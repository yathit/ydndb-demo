(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var n,q=this;function r(a){return void 0!==a}
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return"array"==aa(a)}function w(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function ba(a){return"boolean"==typeof a}function z(a){return"number"==typeof a}function A(a){return"function"==aa(a)}function B(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ga(a,b,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:ea;return ga.apply(null,arguments)}var ia=Date.now||function(){return+new Date};
function ja(a,b){var c=a.split("."),d=q;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}function C(a,b){function c(){}c.prototype=b.prototype;a.C=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.lb=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ka(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function la(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function E(a){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}C(E,Error);E.prototype.name="CustomError";function ma(a){for(var b=0;1>b;b++)if('"'==a.charAt(0)&&'"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var na={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},oa={"'":"\\'"};
function G(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=na[d])){if(!(31<e&&127>e))if(d in oa)d=oa[d];else if(d in na)d=oa[d]=na[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e="\\x",16>g||256<g)e+="0"}else e="\\u",4096>g&&(e+="0");e+=g.toString(16).toUpperCase()}d=oa[d]=e}g=d}b[f]=g}b.push('"');return b.join("")};var pa=Array.prototype,qa=pa.indexOf?function(a,b,c){return pa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(y(a))return y(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ra=pa.map?function(a,b,c){return pa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},sa=pa.some?function(a,b,c){return pa.some.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},ta=pa.every?function(a,b,c){return pa.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function ua(a,b){var c=va(a,b,void 0);return 0>c?null:y(a)?a.charAt(c):a[c]}function va(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}
function wa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function xa(a,b,c,d){pa.splice.apply(a,ya(arguments,1))}function ya(a,b,c){return 2>=arguments.length?pa.slice.call(a,b):pa.slice.call(a,b,c)}function za(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=Aa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ba(a,b){return a>b?1:a<b?-1:0}function Aa(a,b){return a===b}
function Ca(a,b){var c;c=Da||Ba;for(var d=0,e=a.length,f;d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}c=f?d:~d;0>c&&xa(a,-(c+1),0,b)};var H;a:{var Ea=q.navigator;if(Ea){var Fa=Ea.userAgent;if(Fa){H=Fa;break a}}H=""};function Ga(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a};function Ha(a){q.setTimeout(function(){throw a;},0)}var Ia;
function Ja(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ga(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==H.indexOf("Trident")&&-1==H.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.xa;c.xa=null;a()};return function(a){d.next={xa:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=
function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Ka(a,b){La||Ma();Na||(La(),Na=!0);Oa.push(new Pa(a,b))}var La;function Ma(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve();La=function(){a.then(Qa)}}else La=function(){var a=Qa;!A(q.setImmediate)||q.Window&&q.Window.prototype.setImmediate==q.setImmediate?(Ia||(Ia=Ja()),Ia(a)):q.setImmediate(a)}}var Na=!1,Oa=[];function Qa(){for(;Oa.length;){var a=Oa;Oa=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(d){Ha(d)}}}Na=!1}function Pa(a,b){this.a=a;this.b=b};function Ra(a,b){this.b=Sa;this.f=void 0;this.a=this.c=null;this.d=this.e=!1;try{var c=this;a.call(b,function(a){Ta(c,Ya,a)},function(a){Ta(c,Za,a)})}catch(d){Ta(this,Za,d)}}var Sa=0,Ya=2,Za=3;Ra.prototype.then=function(a,b,c){return $a(this,A(a)?a:null,A(b)?b:null,c)};ka(Ra);function ab(a){a.b==Sa&&Ka(function(){var a=new bb(void 0);cb(this,a)},a)}
function cb(a,b){if(a.b==Sa)if(a.c){var c=a.c;if(c.a){for(var d=0,e=-1,f=0,g;g=c.a[f];f++)if(g=g.V)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==Sa&&1==d?cb(c,b):(d=c.a.splice(e,1)[0],db(c,d,Za,b)))}}else Ta(a,Za,b)}function eb(a,b){a.a&&a.a.length||a.b!=Ya&&a.b!=Za||fb(a);a.a||(a.a=[]);a.a.push(b)}
function $a(a,b,c,d){var e={V:null,Fa:null,Ga:null};e.V=new Ra(function(a,g){e.Fa=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.Ga=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof bb?g(b):a(e)}catch(l){g(l)}}:g});e.V.c=a;eb(a,e);return e.V}Ra.prototype.h=function(a){this.b=Sa;Ta(this,Ya,a)};Ra.prototype.j=function(a){this.b=Sa;Ta(this,Za,a)};
function Ta(a,b,c){if(a.b==Sa){if(a==c)b=Za,c=new TypeError("Promise cannot resolve to itself");else{if(la(c)){a.b=1;c.then(a.h,a.j,a);return}if(B(c))try{var d=c.then;if(A(d)){gb(a,c,d);return}}catch(e){b=Za,c=e}}a.f=c;a.b=b;fb(a);b!=Za||c instanceof bb||hb(a,c)}}function gb(a,b,c){function d(b){f||(f=!0,a.j(b))}function e(b){f||(f=!0,a.h(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function fb(a){a.e||(a.e=!0,Ka(a.n,a))}
Ra.prototype.n=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;b++)db(this,a[b],this.b,this.f)}this.e=!1};function db(a,b,c,d){if(c==Ya)b.Fa(d);else{for(;a&&a.d;a=a.c)a.d=!1;b.Ga(d)}}function hb(a,b){a.d=!0;Ka(function(){a.d&&ib.call(null,b)})}var ib=Ha;function bb(a){E.call(this,a)}C(bb,E);bb.prototype.name="cancel";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function I(a,b){this.j=[];this.Ia=b||null;this.b=this.c=!1;this.d=void 0;this.Ka=this.G=this.n=!1;this.f=0;this.h=null;this.H=0}n=I.prototype;n.W=function(a,b){this.n=!1;jb(this,a,b)};function jb(a,b,c){a.c=!0;a.d=c;a.b=!b;a.la()}function kb(a){if(a.c){if(!a.Ka)throw new lb;a.Ka=!1}}n.callback=function(a){kb(this);jb(this,!0,a)};n.i=function(a){kb(this);jb(this,!1,a)};n.A=function(a,b){return J(this,a,null,b)};n.ua=function(a,b){return J(this,null,a,b)};n.M=function(a,b){return J(this,a,a,b)};
function J(a,b,c,d){a.j.push([b,c,d]);a.c&&a.la();return a}n.then=function(a,b,c){var d,e,f=new Ra(function(a,b){d=a;e=b});J(this,d,function(a){e(a)});return f.then(a,b,c)};ka(I);function mb(a){return sa(a.j,function(a){return A(a[1])})}
I.prototype.la=function(){this.f&&this.c&&mb(this)&&(nb(this.f),this.f=0);this.h&&(this.h.H--,delete this.h);for(var a=this.d,b=!1,c=!1;this.j.length&&!this.n;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.Ia,a);r(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.d=a=g);la(a)&&(this.n=c=!0)}catch(h){a=h,this.b=!0,mb(this)||(b=!0)}}this.d=a;c&&(c=ga(this.W,this,!0),g=ga(this.W,this,!1),a instanceof I?(J(a,c,g),a.G=!0):a.then(c,g));b&&(a=new ob(a),pb[a.Y]=a,this.f=
a.Y)};function lb(){E.call(this)}C(lb,E);lb.prototype.message="Deferred has already fired";lb.prototype.name="AlreadyCalledError";function ob(a){this.Y=q.setTimeout(ga(this.b,this),0);this.a=a}ob.prototype.b=function(){delete pb[this.Y];throw this.a;};var pb={};function nb(a){var b=pb[a];b&&(q.clearTimeout(b.Y),delete pb[a])};function K(a){E.call(this,a);this.name="ydn.error.ArgumentException"}C(K,E);function qb(a){E.call(this,a);this.name="ydn.error.NotSupportedException"}C(qb,E);function rb(a){E.call(this,a);this.name="ydn.error.NotImplementedException"}C(rb,E);function sb(a){E.call(this,a);this.name="ydn.error.InvalidOperationException"}C(sb,E);function tb(a){Error.captureStackTrace?Error.captureStackTrace(this,tb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(tb,Error);
tb.prototype.name="ydn.error.InternalError";var ub=-1!=H.indexOf("Opera")||-1!=H.indexOf("OPR"),vb=-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE"),wb=-1!=H.indexOf("Gecko")&&-1==H.toLowerCase().indexOf("webkit")&&!(-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE")),xb=-1!=H.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(ub&&q.opera)return a=q.opera.version,A(a)?a():a;wb?b=/rv\:([^\);]+)(\)|;)/:vb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:xb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(H))?a[1]:"");return vb&&(b=(b=q.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();function yb(){};function L(a,b){I.call(this,0,b);this.e=[]}C(L,I);L.prototype.$a=function(a,b){this.e.push([a,b]);return this};function zb(a,b){for(var c=0;c<a.e.length;c++)a.e[c][0].call(a.e[c][1],b)}L.prototype.callback=function(a){this.e.length=0;L.C.callback.call(this,a)};L.prototype.i=function(a){this.e.length=0;L.C.i.call(this,a)};L.prototype.cb=function(){return this};I.prototype.done=I.prototype.A;I.prototype.fail=I.prototype.ua;I.prototype.always=I.prototype.M;L.prototype.then=L.prototype.then;function Ab(a,b){var c,d;2==arguments.length&&y(arguments[1])?(c=!0,d=arguments[1].split(".")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a}var Bb={};
function Cb(a){a=[a];for(var b=new Db,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Bb);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),Eb(b,e);else if(e instanceof Date)c+=2,b.write(c),Eb(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>
2|255,(f|3)<<6)}c.write(0)}else if(e===Bb)b.write(0);else return"";c=0}return b.trim().toString()}function Fb(a){for(var b=[],c=b,d=[],e,f,g=new Gb(a);null!=Hb(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)Hb(g);else break}while(1);1===a?c.push(Ib(g)):2===a?c.push(new Date(Ib(g))):3===a?c.push(Jb(g)):0===a&&(c=d.pop())}return b[0]}
function Eb(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function Ib(a){var b=Hb(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=Hb(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(Hb(a)|0):Hb(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function Jb(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=Hb(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function Gb(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function Hb(a){return a.a=a.index<a.c?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function Db(){this.a=[];this.b=void 0}
Db.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)};Db.prototype.trim=function(){for(var a=this.a.length;"00"===this.a[--a];);this.a.length=++a;return this};Db.prototype.toString=function(){return this.a.length?this.a.join(""):""};function Kb(a,b){var c=Cb(a),d=Cb(b);return c>d?1:c==d?0:-1};var Lb={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},M=Lb.READ_ONLY,O=Lb.READ_WRITE,Mb=Lb.VERSION_CHANGE,Nb=q.indexedDB||q.mozIndexedDB||q.webkitIndexedDB||q.moz_indexedDB||q.msIndexedDB;function P(a,b,c){L.call(this,0,c);this.p=a;this.e=[];this.s=[];this.La=[];this.a=null;this.P="";this.da=0}C(P,L);n=P.prototype;n.P="";n.logger=null;function Ob(a,b,c){a.a=b;a.P=c;if(b){for(c=0;c<a.s.length;c++)a.s[c][0].call(a.s[c][1],b);a.s.length=0}}function Pb(a){var b=new P(a.p);a.da++;Ob(b,a.a,a.P+"C"+a.da);return b}n.Ua=function(){return!!this.a};
n.abort=function(){if(this.a)if(A(this.a.abort))this.a.abort();else if(A(this.a.executeSql))this.a.executeSql("ABORT",[],function(){},function(){return!0});else throw new qb;else throw new Qb("");};function Q(a,b,c){var d=a.La.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){Q(a,b,c)}):c?a.i(b):a.callback(b)}function Rb(a,b,c){a.La.push([b,c])}function R(a,b,c){a.a?b.call(c,a.a):a.s.push([b,c])}n.callback=function(a){P.C.callback.call(this,a)};n.i=function(a){P.C.i.call(this,a)};
function Sb(a){var b="";a.P&&(b=a.a?"*":"",b="["+a.P+b+"]");return a.p+b}function Tb(a,b){var c=new P(a);Q(c,b);return c}n.toString=function(){return"Request:"+Sb(this)};
n.la=function(){this.f&&this.c&&mb(this)&&(nb(this.f),this.f=0);this.h&&(this.h.H--,delete this.h);for(var a=this.d,b=!1;this.j.length&&!this.n;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.Ia,a),r(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.d=a=d),la(a)&&(this.n=b=!0)}this.d=a;b&&(b=ga(this.W,this,!0),d=ga(this.W,this,!1),a instanceof I?(J(a,b,d),a.G=!0):a.then(b,d))};
n.toJSON=function(){var a=(this.P||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.p?this.p.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Ub=Nb&&Nb.cmp?ga(Nb.cmp,Nb):Kb,Vb=[];function Wb(a,b){this.type=a;this.target=b}Wb.prototype.preventDefault=function(){};function Xb(a,b){Wb.call(this,a,b)}C(Xb,Wb);Xb.prototype.g=function(){return this.a};function Yb(a,b,c,d,e){Wb.call(this,a,b);this.version=c;this.Ra=d;this.Da=e}C(Yb,Xb);n=Yb.prototype;n.name="ReadyEvent";n.version=NaN;n.Ra=NaN;n.Da=null;n.jb=function(){return this.version};n.Xa=function(){return this.Ra};n.Wa=function(){return this.Da};function Zb(a,b,c){Wb.call(this,c||"error",a);this.error=b}C(Zb,Xb);Zb.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")};
Zb.prototype.name="ErrorEvent";Zb.prototype.error=null;Zb.prototype.b=function(){return this.error};function $b(a,b){Zb.call(this,a,b,"fail")}C($b,Zb);$b.prototype.name="FailEvent";function ac(a,b,c){var d;if(B(a))d=a.store,b=a.id,null!=a.parent&&(c=new ac(a.parent));else if(r(b))d=a;else if(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new ac(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],!r(b))throw Error("Invalid key value: "+a);this.c=d;this.a=b;this.b=c||null}n=ac.prototype;n.toJSON=function(){var a={store:this.c,id:this.a};this.b&&(a.parent=this.b.toJSON());return a};n.valueOf=function(){return(this.b?this.b.valueOf()+"^|":"")+this.c+"^:"+this.a};
n.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};n.g=function(){return this.c};n.gb=function(){return this.a};function bc(a){return s(a.a)?a.a.join("^|"):a.a instanceof Date?+a.a:a.a}n.hb=function(){return this.b};function cc(a){return null!=a?z(a)||y(a)||a instanceof Date||s(a)&&ta(a,cc):!1}function dc(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function S(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}S.prototype.lower=void 0;S.prototype.upper=void 0;S.prototype.toJSON=function(){var a;a=this||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}};function ec(a){return fc(a)}S.only=function(a){return new S(a,a,!1,!1)};S.bound=function(a,b,c,d){return new S(a,b,c,d)};S.upperBound=function(a,b){return new S(void 0,a,void 0,!!b)};
S.lowerBound=function(a,b){return new S(a,void 0,!!b,void 0)};function gc(a){var b;if(s(a))b=wa(a),b.push("\uffff");else if(y(a))b=a+"\uffff";else if(z(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return S.only(a);return S.bound(a,b,!1,!0)}function fc(a){return null!=a?null!=a.upper&&null!=a.lower?hc.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?hc.upperBound(a.upper,a.upperOpen):null!=a.lower?hc.lowerBound(a.lower,a.lowerOpen):null:null}
function ic(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==Ub(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?" > ":" >= ";d.push(a+f+"?");e.push(jc(c.lower,b))}null!=c.upper&&(f=c.upperOpen?" < ":" <= ",d.push(a+f+"?"),e.push(jc(c.upper,b)))}else d.push(a+" = ?"),e.push(jc(c.lower,b))}var hc=q.IDBKeyRange||q.webkitIDBKeyRange||S;function kc(a,b,c,d,e,f){r(e)||(e=s(a)?a.join(", "):a);if(null!=a&&!y(a)&&!w(a))throw new K("index keyPath for "+e+" must be a string or array, but "+a+" is "+typeof a);!r(a)&&r(e)&&(a=e);this.keyPath=a;this.f=w(this.keyPath);this.a=e;this.type=lc(b);if(r(b)){if(!r(this.type))throw new K("type invalid in index: "+this.a);if(s(this.keyPath))throw new K('composite key for store "'+this.a+'" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.h=y(this.type)?this.type:mc;this.d=y(e)?e:
s(a)?this.keyPath.join(","):a;this.c=G(this.d);this.b=this.f?null:this.keyPath.split(".");this.e=f||null}var mc="TEXT";function jc(a,b){if("DATE"==b){if(a instanceof Date)return+a}else return null!=b?a:Cb(a)}function nc(a,b){return"DATE"==b?new Date(a):r(b)?a:Fb(a)}var oc=["BLOB","DATE","INTEGER","NUMERIC",mc];function lc(a){if(y(a))return a=qa(oc,a),oc[a]}kc.prototype.getName=function(){return this.a};
kc.prototype.toJSON=function(){return{name:this.a,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};kc.prototype.clone=function(){var a=s(this.keyPath)?wa(this.keyPath):this.keyPath;return new kc(a,this.type,this.unique,this.multiEntry,this.a,this.e)};function pc(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?za(a,b)?null:"expect: "+a+", but: "+b:qc(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}
kc.prototype.hint=function(a){if(!a)return this;var b=s(this.keyPath)?wa(this.keyPath):this.keyPath,c=this.type;r(a.type)||"TEXT"!=c||(c=void 0);return new kc(b,c,this.unique,this.multiEntry,a.a)};function rc(a,b,c,d,e,f,g,h){if(!y(a))throw new K("store name must be a string");this.d=a;this.keyPath=r(b)?b:null;this.j=w(this.keyPath);if(null!==this.keyPath&&!y(this.keyPath)&&!this.j)throw new K("keyPath must be a string or array");this.b=!!c;var k;if(null!=d){k=lc(d);if(!r(k))throw new K('type "'+d+'" for primary key in store "'+this.d+'" is invalid.');if(this.j)throw new K('composite key for store "'+this.d+'" must not specified type');}this.type=null!=k?k:this.b?"INTEGER":void 0;this.e=y(this.keyPath)?
this.keyPath.split("."):[];this.a=e||[];this.F=!!f;this.L=!!g;this.p=y(this.type)?this.type:mc;this.f=s(this.keyPath)?this.keyPath.join(","):y(this.keyPath)?this.keyPath:"_ROWID_";this.c=G(this.f);this.n=!!h;this.h=[]}n=rc.prototype;n.F=!1;n.L=!1;n.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.d,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};
function sc(a){var b=[],c=a.indexes||[];if(s(c))for(var d=0;d<c.length;d++){var e;e=c[d];e=new kc(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);r(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new rc(a.name,a.keyPath,a.autoIncrement,"undefined"===a.type||"null"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}
function tc(a,b,c,d,e,f,g){a=uc(a,b,c,d,e,f,g);b="";0!=c&&(b+="SELECT "+a.select);b+=" FROM "+a.S;a.m&&(b+=" WHERE "+a.m);a.group&&(b+=" GROUP BY "+a.group);a.I&&(b+=" ORDER BY "+a.I);return b}
function uc(a,b,c,d,e,f,g){var h={select:"",S:"",m:"",group:"",I:""},k=a.f,l=a.c,m=null;d!==k&&y(d)&&(m=vc(a,d));var p=!!m,t=d||k,u=G(t),x=p?m.type:a.type,v=p&&m.multiEntry;h.S=T(a);6===c?h.select="COUNT("+l+")":3===c||1===c||2===c?(h.select=l,null!=d&&d!=k&&(h.select+=", "+u)):h.select="*";d=g?"DISTINCT ":"";k=[];v?(v=G("ydn.db.me:"+a.getName()+":"+m.getName()),h.select=6===c?"COUNT("+d+v+"."+u+")":3===c||1===c||2===c?"DISTINCT "+T(a)+"."+l+", "+v+"."+u+" AS "+t:"DISTINCT "+T(a)+".*, "+v+"."+u+" AS "+
t,h.S=v+" INNER JOIN "+T(a)+" USING ("+l+")",null!=e&&(ic(v+"."+u,x,e,k,b),0<k.length&&(h.m=h.m?h.m+(" AND "+k.join(" AND ")):k.join(" AND ")))):null!=e&&(ic(u,x,e,k,b),0<k.length&&(h.m=h.m?h.m+(" AND "+k.join(" AND ")):k.join(" AND ")));p&&!m.unique&&g&&(h.group=u);a=f?"DESC":"ASC";h.I=u+" "+a;p&&(h.I+=", "+l+" "+a);return h}
function wc(a,b,c,d,e,f,g,h){var k,l,m,p;null!=e?(k=e.lower,l=e.upper,m=e.lowerOpen,p=e.upperOpen,f?null!=l?(e=Ub(h,l),-1==e?(l=h,p=!0):0==e&&(p=!0)):(l=h,p=!0):null!=k?(e=Ub(h,k),1==e?(k=h,m=!0):0==e&&(m=!0)):(k=h,m=!0)):f?(l=h,p=!0):(k=h,m=!0);e=new S(k,l,!!m,!!p);d=d?vc(a,d):null;b=uc(a,c,b,d?d.d:a.f,e,f,g);b="SELECT "+b.select+" FROM "+b.S+(b.m?" WHERE "+b.m:"")+(b.group?" GROUP BY "+b.group:"")+" ORDER BY "+b.I;d&&(b+=", "+a.c+(f?"DESC":"ASC"));return b}
function xc(a,b,c,d,e,f,g,h,k){var l=vc(a,d),m=l.d;d=l.c;var p=a.c,t;t=(h?" <":" >")+" ";l=jc(f,l.type);g=jc(g,a.type);var u="";e?(a=uc(a,c,b,m,e,h,k),a.m+=" AND ",u=d+t+"?",c.push(l)):(e=h?S.upperBound(f,!0):S.lowerBound(f,!0),a=uc(a,c,b,m,e,h,k),u=a.m,a.m="");a.m+="("+u+" OR ("+d+" = ? AND "+p+t+"?))";c.push(l);c.push(g);return"SELECT "+a.select+" FROM "+a.S+" WHERE "+a.m+(a.group?" GROUP BY "+a.group:"")+" ORDER BY "+a.I}n.clone=function(){return sc(this.toJSON())};
n.index=function(a){return this.a[a]||null};function vc(a,b){return ua(a.a,function(a){return a.getName()==b})}function yc(a,b){return b===a.keyPath?!0:sa(a.a,function(a){return a.getName()==b})}function T(a){return G(a.d)}
function zc(a,b){if(!b)return a;var c=a.b,d=s(a.keyPath)?wa(a.keyPath):a.keyPath,e=a.type,f=ra(a.a,function(a){return a.clone()});r(b.type)||"TEXT"!=e||(e=void 0);s(b.keyPath)&&y(d)&&d==b.keyPath.join(",")&&(d=wa(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].f)for(var k=b.a[g].getName(),l=f.length-1;0<=l;l--)if(0<=k.indexOf(f[l].getName())){f[l]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=vc(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new rc(b.d,d,c,e,f)}n.getName=function(){return this.d};
function Ac(a){return!!a.keyPath}function Bc(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.j){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Ab(b,a.keyPath[d]));return c}if(a.keyPath)return Ga(b,a.e)}}function Cc(a,b,c){for(var d=0;d<a.e.length;d++){var e=a.e[d];if(d==a.e.length-1){b[e]=c;break}r(b[e])||(b[e]={});b=b[e]}}
function Dc(a,b,c){var d=[],e=[];c=r(c)?c:Bc(a,b);r(c)&&(e.push(a.c),d.push(jc(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&"_default_"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var l=[],m=0,p=h.keyPath.length;m<p;m++){var t=Ab(k,h.keyPath[m]);l[m]=t}h=l}else h=Ab(k,h.keyPath);else h=void 0;null!=h&&(d.push(jc(h,g.type)),e.push(g.c))}}a.L?a.L&&!a.keyPath&&0==a.a.length&&(y(b)&&-1==b.indexOf(";base64,")?d.push(b):d.push(U(b)),
e.push("_default_")):(d.push(U(b)),e.push("_default_"));a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{Va:e,bb:a,K:d,key:c}}
function Ec(a,b){if(!b)return"missing store: "+a.d;if(a.d!=b.d)return"store name, expect: "+a.d+", but: "+b.d;var c=pc(a.keyPath,b.keyPath);if(c)return"keyPath, "+c;if(r(a.b)&&r(b.b)&&a.b!=b.b)return"autoIncrement, expect:  "+a.b+", but: "+b.b;if(a.a.length!=b.a.length)return"indexes length, expect:  "+a.a.length+", but: "+b.a.length;if(r(a.type)&&r(b.type)&&(w(a.type)?!za(a.type,b.type):a.type!=b.type))return"data type, expect:  "+a.type+", but: "+b.type;for(c=0;c<a.a.length;c++){var d=vc(b,a.a[c].getName()),
e;e=a.a[c];if(d)if(e.a!=d.a)e="name, expect: "+e.a+", but: "+d.a;else{var f=pc(e.keyPath,d.keyPath);e=f?"keyPath, "+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?"unique, expect: "+e.unique+", but: "+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?"multiEntry, expect: "+e.multiEntry+", but: "+d.multiEntry:r(e.type)&&r(d.type)&&(w(e.type)?!za(e.type,d.type):e.type!=d.type)?"data type, expect: "+e.type+", but: "+d.type:""}else e="no index for "+e.a;if(0<e.length)return'index "'+
a.a[c].getName()+'" '+e}return""}function Fc(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.e){var f=d.e(e),g=typeof f;if("string"==g||"number"==g||f instanceof Date||s(f)){for(g=0;g<d.b.length-1;g++)B(e[d.b[g]])||(e[d.b[g]]={});e[d.b[d.b.length-1]]=f}}}}function Gc(a,b){a.h.push(b)}function V(a,b,c,d,e){for(var f=0;f<a.h.length;f++)d!==f&&a.h[f].call(e,b,c)};function Hc(a){return!y(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)}function Ic(a){var b;try{b=U(a)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function U(a){return JSON.stringify(a,void 0,void 0)};function Jc(a,b,c){this.b=a;this.a=b;this.c=c||1}Jc.prototype.g=function(){return this.b};function Kc(a,b,c,d){this.name=a;this.b=b;this.c=c||"";this.d=d||null;this.a=null}Kc.prototype.getName=function(){return this.name};Kc.prototype.count=function(){return this.b.length};Kc.prototype.index=function(a){return this.b[a]};function Lc(a,b,c){return ua(a.b,function(a){return a.g()==b&&a.a==c})}
function Mc(a){if(!s(a.sources))throw new K("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");var b=a.sources.map(function(a){return new Jc(a.storeName,a.keyPath,a.weight)});return new Kc(a.name,b,a.lang)};function Nc(a,b){var c,d,e=b;if(B(a)){d=a;c=d.version;for(var e=[],f=d.stores||[],g=0;g<f.length;g++){var h=sc(f[g]);e.push(h)}}else y(a)?c=0==a.length?void 0:parseFloat(a):z(a)&&(c=a);if(r(c)){if(!z(c)||0>c)throw new K("Invalid version: "+c+" ("+a+")");isNaN(c)&&(c=void 0)}if(r(b)&&(!s(b)||0<b.length&&!(b[0]instanceof rc)))throw new K("stores");this.version=c;this.$=!r(this.version);this.a=e||[];c=[];if(d&&d.fullTextCatalogs)for(g=0;g<d.fullTextCatalogs.length;g++)e=Mc(d.fullTextCatalogs[g]),c[g]=
e,W(this,e.getName())||(f=[new kc("k",mc),new kc("v",mc)],e=new rc(e.getName(),"id",!1,void 0,f,!1,!1,!1),this.a.push(e));this.b=c}n=Nc.prototype;n.toJSON=function(){var a=ra(this.a,function(a){return a.toJSON()}),b={};b.stores=a;r(this.version)&&(b.version=this.version);return b};n.$=!1;n.t=function(){return!1};function Oc(a){return ra(a.a,function(a){return a.getName()})}n.O=function(a){return this.a[a]||null};n.count=function(){return this.a.length};
function W(a,b){return ua(a.a,function(a){return a.getName()==b})}function Pc(a,b){return sa(a.a,function(a){return a.getName()==b})}
function Qc(a,b,c,d){if(!b||a.a.length!=b.a.length)return"Number of store: "+a.a.length+" vs "+b.a.length;for(var e=0;e<a.a.length;e++){var f=W(b,a.a[e].getName());if(f){c&&(f=zc(f,a.a[e]));if(d)for(var g=f,h=a.a[e],k=0;k<h.a.length;k++){var l=h.a[k];yc(g,l.getName())||"BLOB"!=l.type||(l=new kc(l.keyPath,l.type,l.unique,l.multiEntry,l.getName()),g.a.push(l))}f=Ec(a.a[e],f);if(0<f.length)return'store: "'+a.a[e].getName()+'" '+f}else return'missing object store "'+a.a[e].getName()+'"'}return""}
function Rc(a,b){return ua(a.b,function(a){return a.getName()==b})};function Sc(a,b){Nc.call(this,a,b)}C(Sc,Nc);Sc.prototype.t=function(){return!0};function Tc(a,b){a.a.push(b)};function Uc(a){Error.captureStackTrace?Error.captureStackTrace(this,Uc):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(Uc,Error);Uc.prototype.name="ydn.InternalError";function Vc(a){Error.captureStackTrace?Error.captureStackTrace(this,Vc):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ConstraintError"}C(Vc,Error);Vc.prototype.name="ydn.error.ConstraintError";function qc(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==ua(b,function(b){return qc(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&qc(a[0],b);if(w(b))return 1==b.length&&qc(b[0],a);if(B(a)&&B(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=qc(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=qc(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function X(a,b,c){c=c||{};this.p=c.mechanisms||Wc;this.n=c.size;this.s=r(c.connectionTimeout)?c.connectionTimeout:6E4;this.a=null;this.e=[];this.Z=!1;var d;if(b instanceof Nc)d=b;else if(B(b)){c.autoSchema||!r(b.stores)?d=new Sc(b):d=new Nc(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++)W(d,b.stores[c].name)}else d=new Sc;this.b=d;for(c=0;c<this.b.count();c++)this.b.O(c).n&&this.b.O(c);r(a)&&this.j(a);this.d=new I}X.prototype.logger=null;
X.prototype.G=function(a){if(r(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.D(b);else{var c=this;this.transaction(function(a){c.a.D(b,a)},null,M)}}return this.b?this.b.toJSON():null};function Xc(a,b){var c=b instanceof rc?b:sc(b),d=W(a.b,b.name);if(0==Ec(c,d).length)(new I).callback(!1);else if(a.b instanceof Sc)Tc(a.b,c),a.a?(a.a.close(),a.a=null,Yc(a)):(new I).callback(!1);else throw new Vc("");}
X.prototype.j=function(a){if(this.a)throw new sb("Already connected with "+this.f);this.f=a;Yc(this)};X.prototype.getName=function(){return this.f};var Wc="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");n=X.prototype;n.ja=function(){return null};
function Yc(a){function b(b,e){b?(a.Aa=NaN,d.Ea=function(){},d.na=function(){a.a=null},d.Ha=function(){},setTimeout(function(){Zc(a,e);$c(a)},10),c.callback(e)):(setTimeout(function(){Zc(a,new $b(a,e));if(a.e)for(var b;b=a.e.shift();)b.q&&b.q("error",e)},10),c.i(e))}for(var c=new I,d=null,e=a.p,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.ja(g)){d=a.ja(g);break}}null===d?(e=new Vc("No storage mechanism found."),b(!1,new $b(a,e))):J(d.ra(a.f,a.b),function(a){this.a=d;b(!0,new Yb("ready",this,
parseFloat(d.Qa()),parseFloat(a),null))},function(a){b(!1,a)},a)}n.ta=function(){if(this.a)return this.a.Pa()};n.ea=function(a,b){this.d.M(a,b)};function Zc(a,b){setTimeout(function(){a.b.$&&a.d.c||(b instanceof Zb?a.d.i(b.error):a.d.callback())},4)}function ad(a){return!!a.a&&a.a.sa()}n.close=function(){this.a&&(this.a.close(),this.a=null)};n.ib=function(){return this.a?this.a.Oa():null};n.Aa=NaN;function $c(a){var b=a.e.shift();b&&a.transaction(b.X,b.ab,b.mode,b.q);a.Aa=ia()}n.Z=!1;
n.transaction=function(a,b,c,d){var e=b;y(b)?e=[b]:null!=b||(e=null);if(this.a&&this.a.sa()&&!this.Z){var f=this,g=r(c)?c:M;g==Mb&&(this.Z=!0);this.a.ka(function(b){a(b);a=null},e,g,function(a,b){A(d)&&(d(a,b),d=void 0);g==Mb&&(f.Z=!1);$c(f)})}else this.e.push({X:a,ab:e,mode:c,q:d})};n.va=function(){};X.prototype.close=X.prototype.close;X.prototype.getType=X.prototype.ta;X.prototype.getName=X.prototype.getName;X.prototype.getSchema=X.prototype.G;X.prototype.onReady=X.prototype.ea;X.prototype.setName=X.prototype.j;X.prototype.transaction=X.prototype.transaction;X.prototype.db=X.prototype.ib;ja("ydn.db.version","1.1.0");ja("ydn.db.cmp",Ub);ja("ydn.db.deleteDatabase",function(a,b){for(var c,d=0;d<Vb.length;d++){var e=Vb[d](a,b);e&&(c=e)}return c||Tb("vc",null)});Yb.prototype.name=Yb.prototype.name;
Yb.prototype.getVersion=Yb.prototype.jb;Yb.prototype.getOldVersion=Yb.prototype.Xa;Yb.prototype.getOldSchema=Yb.prototype.Wa;Zb.prototype.getError=Zb.prototype.b;P.prototype.abort=P.prototype.abort;P.prototype.canAbort=P.prototype.Ua;L.prototype.progress=L.prototype.$a;L.prototype.promise=L.prototype.cb;function bd(a){Error.captureStackTrace?Error.captureStackTrace(this,bd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ConstraintError"}C(bd,Error);bd.prototype.name="ConstraintError";function Qb(a){Error.captureStackTrace?Error.captureStackTrace(this,Qb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}C(Qb,Error);
function cd(a){Error.captureStackTrace?Error.captureStackTrace(this,cd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}C(cd,Error);cd.prototype.name="NotFoundError";function dd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,dd):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}C(dd,Error);
function ed(a,b){Error.captureStackTrace?Error.captureStackTrace(this,ed):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}C(ed,Error);function fd(a){Error.captureStackTrace?Error.captureStackTrace(this,fd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.TimeoutError"}C(fd,Error);function gd(a,b){this.a=b}gd.prototype.logger=null;function hd(a){this.d=a;this.a=null;this.b=0}hd.prototype.logger=null;hd.prototype.r=null;function id(a){return!!a.a&&!a.c}hd.prototype.q=null;function jd(a,b,c,d,e,f){this.j=a;this.da=b;this.a=this.d=0;this.H=d;this.G=e;this.f=c||kd;this.n=f||0}jd.prototype.logger=null;jd.prototype.type=function(){return this.j.ta()};jd.prototype.w=function(){return"B"+this.da+"T"+this.d};var kd="single";function ld(a){if(a)if(A(a.abort))a.abort();else if(A(a.executeSql))a.executeSql("ABORT",[],null,function(){return!0});else throw new qb;else throw new Qb("No active transaction");};function md(a,b,c,d,e,f){jd.call(this,a,b,c,d,e,f);this.c=[];this.e=[];this.h=null;this.b=new hd(b);this.p=f||0;this.s=!1}C(md,jd);n=md.prototype;n.logger=null;
function nd(a,b,c){if("multi"==a.f)a:if(a=a.b,!a.r||!a.mode||c!=a.mode&&(a.mode!=O||c!=M)||b.length>a.r.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.r.indexOf(b[c])){b=!1;break a}b=!0}else if("repeat"==a.f)a:if(a=a.b,a.r&&a.mode&&c==a.mode&&a.r.length==b.length){for(c=0;c<b.length;c++)if(-1==a.r.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b="all"==a.f?!0:!1;return b}function od(a){var b=0<a.c.length?a.c[0].r:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?nd(a,b,c):!1}
n.abort=function(){ld(this.h)};
n.J=function(a,b,c,d){var e=y(b)?[b]:b,f=r(c)?c:M,g=this;if(this.b.a||!ad(this.j)&&this.s)this.c.push({X:a,r:b,mode:f,q:d});else{d&&this.e.push(d);if(this.p&&this.d>=this.p)throw new sb("Exceed maximum number of transactions of "+this.p);this.s=!0;this.j.transaction(function(c){var d=g.b;d.a=c;d.c=!1;d.r=b;d.mode=f;d.b++;d.q=null;U(b);a(g);for(a=null;od(g);)c=g.c.shift(),c.q&&g.e.push(c.q),c.X()},e,f,function(a,b){var c=g.b;c.a&&(c.a=null,c.r=null,c.mode=null,A(c.q)&&c.q(a,b),c.q=null);for(c=0;c<
g.e.length;c++)(0,g.e[c])(a,b);g.e.length=0;(c=g.c.shift())&&g.J(c.X,c.r,c.mode,c.q);g.a=0})}};n.w=function(){var a=this.b;return"B"+a.d+"T"+a.b};n.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new P(a);a=c||M;var g=this;id(this.b)&&nd(this,b,a)?(b=this.b.a,this.a++,Ob(f,b,this.w()+"R"+this.a),this.e.push(e)):g.J(function(){var a=g.b.a;g.a++;Ob(f,a,g.w()+"R"+g.a)},b,a,e);return f};
n.R=function(a,b,c,d,e){d=d||M;var f=this,g;if(id(f.b)&&nd(this,c,d)){var h=f.b.a;f.a++;g=f.w()+"R"+f.a;b(h,g,function(b,c){f.h=h;c?a.i(b):a.callback(b);f.h=null});b=null}else f.J(function(){var c=f.b.a;f.a++;g=f.w()+"R"+f.a;b(c,g,function(b,d){f.h=c;d?a.i(b):a.callback(b);f.h=null});b=null},c,d,e)};n.getName=function(){return this.j.getName()};function pd(a,b){md.call(this,a,b)}C(pd,md);pd.prototype.logger=null;pd.prototype.request=function(a,b,c){var d,e,f,g=pd.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new fd;Q(g,c,!0)}});Rb(g,function(a,b,c){f=b;e=a;d=c});return g};
pd.prototype.R=function(a,b,c,d,e){var f,g,h=new I;J(h,function(a){g=!1;f=a},function(a){g=!0;f=a});pd.C.R.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.i(c);else if(!0===g)a.i(f);else if(!1===g)a.callback(f);else{var d=new fd;a.i(d)}e&&(e(b,c),e=void 0)})};function qd(a,b,c,d){this.c=a;this.b=b;this.a=c;this.e=d;this.d=null}qd.prototype.logger=null;qd.prototype.f=function(){return this.a.d};qd.prototype.abort=function(){this.a.abort()};function Y(a){if(!a.d){var b;b=a.c;var c=b.ta();if("indexeddb"==c)b=new rd(0,b.b);else if("websql"==c||"sqlite"==c)b=new sd(0,b.b);else throw new tb("No executor for "+c);a.d=b}return a.d};function Z(a,b,c,d){qd.call(this,a,b,c,d)}C(Z,qd);n=Z.prototype;n.logger=null;
n.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(s(a)){if(r(c)||r(b))throw new K("too many arguments.");f=a;for(var k=0;k<f.length;k++)if(!Pc(this.b,f[k]))throw new K('store name "'+f[k]+'" at '+k+" not found.");yb("countStores: "+U(f));e=this.a.request("d",f);R(e,function(){Y(this).ia(e,f)},this)}else if(y(a)){k=W(this.b,a);if(!k)throw new K('store name "'+a+'" not found.');f=[a];if(y(b))g=b,B(c)?h=fc(c):h=null;else if(B(b)||null==b)if(B(b))h=fc(b);else{if(null!=b)throw new K("key range must be  an object but found "+
Ic(b)+" of type "+typeof b);h=null}else throw new K('invalid second argument for count "'+Ic(c)+'" of type '+typeof b);yb("countKeyRange: "+a+" "+(g?g:"")+U(h));e=this.a.request("d",f);V(k,e,arguments);R(e,function(){Y(this).za(e,f[0],h,g,!!d)},this)}else throw new K("Invalid store name or store names.");else k=Oc(this.b),e=this.a.request("d",k),Rb(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),R(e,function(){Y(this).ia(e,f)},this);return e};
n.get=function(a,b){var c=this,d;if(a instanceof ac){var e=a,f=e.g(),g=W(this.b,f);if(!g){if(this.b.t()){if(ad(this.c))return Tb("e",void 0);d=new P("e");this.c.ea(function(){J(c.get(a,b),function(a){d.callback(a)},function(a){d.i(a)})});return d}throw new K("Store: "+f+" not found.");}var h=e.a;d=this.a.request("ek",[f]);V(g,d,arguments,void 0,this);R(d,function(){Y(this).ma(d,f,h)},this)}else if(y(a)&&r(b)){var k=a,g=W(this.b,k);if(!g){if(this.b.t()){if(ad(this.c))return Tb("e",void 0);d=new P("e");
this.c.ea(function(){J(c.get(a,b),function(a){d.callback(a)},function(a){d.i(a)})});return d}throw new K('Store name "'+k+'" not found.');}var l=b;d=this.a.request("e",[k]);V(g,d,arguments,void 0,this);R(d,function(){Y(this).ma(d,k,l)},this)}else throw new K("get require valid input arguments.");return d};
n.Ya=function(a,b,c,d,e){var f=W(this.b,a),g,h,k,l=null;B(b)&&(l=fc(b));if(r(c))if(z(c))g=c;else throw new K("limit must be a number, but "+c+" is "+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new K("offset must be a number, but "+d+" is "+typeof d);else h=0;if(r(e))if(ba(e))k=e;else throw new K("reverse must be a boolean, but "+e+" is "+typeof e);var m=this.a.request("g",[a]);V(f,m,arguments);R(m,function(){Y(this).Q(m,2,a,null,l,g,h,k,!1)},this);return m};
n.fa=function(a,b,c,d,e,f,g){var h,k,l=null,m=!1,p=!1,t=a,u=W(this.b,t);if(this.b.t()&&!u)return Tb("g",[]);var x;if(y(b)){var v=b,l=fc(c);if(z(d))h=d;else{if(r(d))throw new K("limit must be a number");h=100}if(z(e))k=e;else{if(r(e))throw new K("offset must be a number");k=0}if(r(f))if(ba(f))m=f;else throw new K("reverse must be a boolean");if(r(g))if(ba(g))p=g;else throw new K("unique must be a boolean");x=this.a.request("i",[t]);V(u,x,arguments);R(x,function(){Y(this).Q(x,2,t,v,l,h,k,m,p)},this)}else x=
this.Ya(t,b,c,d,e);return x};
n.K=function(a,b,c,d,e,f,g){var h=this,k;if(y(a)){var l=a,m=W(this.b,l);if(!m){if(this.b.t()){if(ad(this.c))return Tb("s",[]);k=new P("s");this.c.ea(function(){J(h.K(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.i(a)})});return k}throw new cd(l);}if(s(b)){var p=b;k=this.a.request("v",[l]);V(m,k,arguments,void 0,this);R(k,function(){Y(this).Ba(k,l,p)},this)}else k=y(b)?this.eb(l,b,c,d,e,f,g):this.fb(l,b,c,d,e)}else if(s(a))if(a[0]instanceof ac){for(var m=[],t=a,u=0;u<t.length;u++){var x=t[u].g();
if(!Pc(this.b,x)){if(this.b.t())return m=[],m[t.length-1]=void 0,Tb("e",m);throw new K("Store: "+x+" not found.");}0<=qa(m,x)||m.push(x)}yb("listByKeys: "+U(m)+" "+t.length+" keys");k=this.a.request("w",m);R(k,function(){Y(this).Ca(k,t)},this)}else throw new K("first argumentmust be array of ydn.db.Key, but "+a[0]+" of "+typeof a[0]+" found.");else throw new K("first argument "+a+" is invalid.");return k};
n.fb=function(a,b,c,d,e){var f=W(this.b,a),g,h,k,l=null;B(b)&&(l=fc(b));if(r(c))if(z(c))g=c;else throw new K("limit must be a number, but "+c+" is "+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new K("offset must be a number, but "+d+" is "+typeof d);else h=0;if(r(e))if(ba(e))k=e;else throw new K("reverse must be a boolean, but "+e+" is "+typeof e);var m=this.a.request("s",[a]);V(f,m,arguments);R(m,function(){Y(this).Q(m,4,a,null,l,g,h,k,!1)},this);return m};
n.eb=function(a,b,c,d,e,f,g){var h=W(this.b,a),k,l,m,p,t=fc(c);if(r(d))if(z(d))k=d;else throw new K("limit must be a number.");else k=100;if(r(e))if(z(e))l=e;else throw new K("offset must be a number.");else l=0;if(ba(f))m=f;else if(r(f))throw new K("reverse must be a boolean, but "+f);if(r(g))if(ba(g))p=g;else throw new K("unique must be a boolean");var u=this.a.request("u",[a]);V(h,u,arguments);R(u,function(){Y(this).Q(u,4,a,b,t,k,l,m,p)},this);return u};
n.add=function(a,b,c){var d=y(a)?a:B(a)?a.name:void 0;if(!y(d))throw new K("store name "+d+" must be a string, but "+typeof d);var e=W(this.b,d);if(!e){if(!this.b.t())throw new K('store name "'+d+'" not found.');e=sc(B(a)?a:{name:d});Xc(this.c,e)}else if(this.b.t()&&B(a)&&(a=sc(a),a=Ec(e,a)))throw new qb(a);var f;if(!e)throw new K('store name "'+d+'" not found.');if(y(e.keyPath)&&r(c))throw new K("key must not be provided while the store uses in-line key.");if(!e.keyPath&&!e.b&&!r(c))throw new K("out-of-line key must be provided.");
if(s(b)){for(a=0;a<b.length;a++)Fc(e,b[a]);f=this.a.request("b",[d],O);R(f,function(){Y(this).B(f,!1,!1,d,b,c)},this);e.F&&f.A(function(){},this)}else if(B(b))Bc(e,b,c),Fc(e,b),f=this.a.request("a",[d],O),R(f,function(){Y(this).B(f,!1,!0,d,[b],[c])},this),e.F&&f.A(function(){},this);else throw new K("record must be an object or array list of objects, but "+b+" of type "+typeof b+" found.");return f};
function td(a,b){var c=y(b)?b:B(b)?b.name:void 0;if(!y(c))throw new K("store name must be a string");var d=W(a.b,c);if(!d){if(!a.b.t())throw new cd(c);d=sc(B(b)?b:{name:c});Xc(a.c,d)}else if(a.b.t()&&B(b)){var e=sc(b);if(e=Ec(d,e))throw new qb(e);}if(!d)throw new cd(c);return d}n.load=function(a,b,c){var d=c||",",e=td(this,a).getName();a=this.a.request("i3",[e]);var f=this;this.a.R(a,function(a,c,k){Y(f).Ja(a,c,k,e,b,d)},[e],O);return a};
function ud(a,b){var c=vd(b),d=a.a.request("qb",c,M);R(d,function(){var a=Y(this);wd(b,function(c,g,h,k){var l=Pb(d);a.Q(l,4,c,g,fc(h),100,0,!1,!1);l.M(function(a){var c=null;a instanceof Array||(c=a,a=[]);for(var e=0;e<a.length;e++){var f;f=a[e];var g=f.id,g=y(g)?Fb(g):g,h=g[3];(f=1==this.type&&h!=this.value?null:new xd(this,g[0],g[2],g[1],h,f.k,f.loc))&&b.d.push(f)}b.c--;a=0==b.c?!1:b.b[b.b.length-1].f===this.f?!0:null;!0===a?zb(d,b):!1===a&&d.callback(b.e());if(c)throw c;},k)})},a);return d}
n.put=function(a,b,c){var d,e=this;if(a instanceof ac){var f=a,g=f.g(),h=W(this.b,g);if(!h)throw new K('store "'+g+'" not found.');if(h.keyPath){var k=Bc(h,b);if(null!=k){if(0!=Ub(k,f.a))throw new K("Inline key must be "+f+" but "+k+" found.");}else Cc(h,b,f.a);return this.put(g,b)}return this.put(g,b,f.a)}if(s(a)){for(var l=a,m=b,f=[],g=0,h=l.length;g<h;g++){k=l[g].g();-1==qa(f,k)&&f.push(k);var p=W(this.b,k);if(!p)throw new K('store "'+k+'" not found.');p.keyPath&&Cc(p,m[g],l[g].a)}yb("putByKeys: to "+
U(f)+" "+m.length+" objects");for(g=0;g<m.length;g++)Fc(p,m[g]);d=this.a.request("l",f,O);V(p,d,arguments);R(d,function(){Y(e).oa(d,m,l)},this)}else if(y(a)||B(a)){var p=td(this,a),t=p.getName();if(p.keyPath&&r(c))throw new K("key must not be provided while the store uses in-line key.");if(!p.keyPath&&!p.b&&!r(c))throw new K("out-of-line key must be provided.");if(s(b)){for(var u=b,x=c,g=0;g<u.length;g++)Fc(p,u[g]);d=this.a.request("k",[t],O);V(p,d,arguments);R(d,function(){Y(this).B(d,!0,!1,t,u,
x)},this);p.F&&d.A(function(){},this)}else if(B(b)){var v=b,D=c;if(r(q.Blob)&&v instanceof Blob&&p.L&&!p.keyPath&&0==p.a.length&&xb)d=new P("j"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request("j",[t],O);V(p,c,[t,v,D]);R(c,function(){Y(e).B(c,!0,!0,t,[b],[D])},this);J(c,function(a){d.callback(a)},function(a){d.i(a)})},f.onerror=function(a){d.i(a)},f.onabort=function(a){d.i(a)},f.readAsDataURL(v);else{Fc(p,v);d=this.a.request("j",[t],O);var F=[t,v,D];V(p,d,F);R(d,function(){var a=
r(D)?[F[2]]:void 0;Y(e).B(d,!0,!0,t,[F[1]],a)},this)}p.F&&d.A(function(){},this)}else throw new K("put record value must be Object or array of Objects");}else throw new K("the first argument of put must be store name, store schema or array of keys.");return d};
function yd(a,b,c){var d=a.e,e,f;if(y(b)){for(var g=W(a.b,b),h=0;h<c.length;h++)Fc(g,c[h]);e=[b]}else{f=b;e=[];for(var h=0,k=f.length;h<k;h++){var l=f[h].g(),g=W(a.b,l);-1==qa(e,l)&&e.push(l);Fc(g,c[h])}}var m;y(b)?(g=W(a.b,b),m=d.request("k",e,O),R(m,function(){Y(this).B(m,!0,!1,b,c,void 0)},a)):(m=d.request("l",e,O),R(m,function(){Y(this).oa(m,c,f)},a));return m}function zd(a,b,c){var d=a.e.request("n",[b],O);R(d,function(){Y(this).qa(d,b,c||null)},a);return d}
n.clear=function(a,b){var c;if(y(a)){var d=W(this.b,a);if(!d)throw new K('store name "'+a+'" not found.');if(B(b)){var e=fc(b);if(null===e)throw new K("clear method requires a valid non-null KeyRange object.");yb("clearByKeyRange: "+a+":"+U(e));c=this.a.request("c",[a],O);V(d,c,[a,e]);R(c,function(){Y(this).ya(c,a,e)},this)}else{if(r(b))throw new K("clear method requires a valid KeyRange object as second argument, but found "+b+" of type "+typeof b);c=this.a.request("c",[a],O);R(c,function(){Y(this).ha(c,
[a])},this)}}else if(!r(a)||s(a)&&y(a[0])){var f=a||Oc(this.b);yb("clearByStores: "+U(f));c=this.a.request("c",f,O);R(c,function(){Y(this).ha(c,f)},this)}else throw new K('first argument "'+a+'" is invalid.');return c};
n.ga=function(a,b,c){var d;if(y(a)){var e=W(this.b,a);if(!e)throw new K('store name "'+a+'" not found.');if(r(c))if(y(b)){var f=vc(e,b);if(!f)throw new K("index: "+b+" not found in "+a);if(B(c)||null===c){var g=fc(c);d=this.a.request("p",[a],O);R(d,function(){Y(this).Ma(d,a,f.getName(),g)},this)}else throw new K("key range "+c+' is invalid type "'+typeof c+'".');}else throw new K('index name "'+b+'" must be a string, but '+typeof b+" found.");else if(y(b)||z(b)||w(b)||b instanceof Date){d=this.a.request("m",
[a],O);var h=[a,b];V(e,d,h);R(d,function(){Y(this).pa(d,a,h[1])},this);e.F&&d.A(function(){},this)}else if(B(b))g=fc(b),yb("removeByKeyRange: "+a+":"+U(g)),d=this.a.request("n",[a],O),V(e,d,[a,g]),R(d,function(){Y(this).qa(d,a,g)},this),e.F&&d.A(function(){},this);else throw new K('Invalid key or key range "'+b+'" of type '+typeof b);}else if(a instanceof ac){var k=a.g(),e=W(this.b,k);d=this.a.request("m",[k],O);var l=[k,a.a];V(e,d,l);R(d,function(){Y(this).pa(d,k,l[1])},this)}else if(s(a)){b=[];
c=0;for(e=a.length;c<e;c++){var m=a[c].g();-1==qa(b,m)&&b.push(m)}if(1>b.length)throw new K('at least one valid key required in key list "'+Ic(a)+'"');d=this.a.request("o",b,O);R(d,function(){Y(this).Na(d,a)},this)}else throw new K('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+Ic(a)+'" ('+aa(a)+") found.");return d};function Ad(a,b,c,d){this.d=a;this.a=wa(c);this.b=d;this.c=[]}Ad.prototype.d=null;function Bd(a,b,c){if(a.d)c&&a.c.push(c),b(a.d);else throw new tb("tx committed on ParallelTxExecutor");};function Cd(a,b,c,d,e,f){jd.call(this,a,b,c,d,e,f);this.c=this.b=null}C(Cd,jd);n=Cd.prototype;n.logger=null;n.abort=function(){ld(this.c)};
n.Sa=function(a,b){var c;if("multi"==this.f)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=O||b!=M)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if("repeat"==this.f)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c="all"==this.f?!0:!1;return c};
n.J=function(a,b,c,d){function e(c){h.d++;k=new Ad(c,0,b,g);U(b);h.b=k;Bd(h.b,a,d)}function f(a,b){if(k){for(var c=k,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.d=null;c.a=null;c.c=null}h.a=0}this.H&&(b=this.H);this.G&&(c=this.G);var g=r(c)?c:M,h=this,k;if(this.b&&this.b.d&&this.Sa(b,g))Bd(this.b,a,d);else{if(this.n&&this.d>=this.n)throw new sb("Exceed maximum number of transactions of "+this.n);this.j.transaction(e,b,g,f)}};
n.request=function(a,b,c,d){var e=new P(a),f=this;this.J(function(a){f.a++;Ob(e,a,f.w()+"R"+f.a)},b,c||M,function(a,b){e.a=null;d&&d(a,b)});return e};n.R=function(a,b,c,d,e){var f=this,g;this.J(function(c){f.a++;g=f.w()+"R"+f.a;b(c,g,function(b,d){f.c=c;g=f.w()+"R"+f.a;d?a.i(b):a.callback(b);f.c=null});b=null},c,d,e)};function Dd(a,b){Cd.call(this,a,b,kd)}C(Dd,Cd);Dd.prototype.logger=null;Dd.prototype.Sa=function(){return!1};Dd.prototype.request=function(a,b,c){var d,e,f,g=Dd.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new fd;Q(g,c,!0)}});Rb(g,function(a,b,c){f=b;e=a;d=c});return g};
Dd.prototype.R=function(a,b,c,d,e){var f,g,h=new I;J(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Dd.C.R.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.i(c);else if(!0===g)a.i(f);else if(!1===g)a.callback(f);else{var d=new fd;a.i(d)}e&&(e(b,c),e=void 0)})};function Ed(a,b,c){X.call(this,a,b,c);this.N=0;a=!0;b=kd;c&&(r(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=Fd(this,b,a);this.h=Fd(this,"atomic",!1);this.c=this.ca(c,this.h)}C(Ed,X);n=Ed.prototype;n.N=0;n.Ta=function(a,b,c,d,e,f){a=a||kd;var g;"readonly"==d?g=M:"readwrite"==d&&(g=O);a=Fd(this,a,b,c,g,e);return this.ca(a,f?null:this.h)};n.ca=function(a,b){return new qd(this,this.b,a,b)};
function Fd(a,b,c,d,e,f){if(c){if("multi"==b||"repeat"==b||"all"==b||b==kd)return new md(a,a.N++,b,d,e,f);if("atomic"==b)return new pd(a,a.N++);throw new K('Invalid requestType "'+b+'"');}if("multi"==b||"repeat"==b||"all"==b||b==kd)return new Cd(a,a.N++,b,d,e,f);if("atomic"==b)return new Dd(a,a.N++);throw new K('Invalid requestType "'+b+'"');}
n.Za=function(a,b,c){this.N++;b=b||Oc(this.b);var d=M;if(c)if("readwrite"==c)d=O;else if("readonly"!=c)throw new K('Invalid transaction mode "'+c+'"');var e=Fd(this,"all",!1,b,d,1),f=this.ca(e,this.h),g=new P("q");e.J(function(b){Ob(g,b,e.w()+"R0");a(f)},b,d,function(a){g.a=null;Q(g,e.d,"complete"!==a)});return g};n.kb=function(){return this.c?this.c.a.d:NaN};function $(a,b,c){Ed.call(this,a,b,c);a=this.b;for(b=0;b<a.b.length;b++){c=a.b[b];var d=W(a,c.getName());if(d){if(!yc(d,"k"))throw new K('full text index store "'+d.getName()+'" must have "keyword" index');if(!yc(d,"v"))throw new K('full text index store "'+d.getName()+'" must have "keyword" index');if("id"!=d.keyPath)throw new K('full text index store "'+d.getName()+'" must use "id" as key path.');}else throw new K('full text index store "'+c.getName()+'" required.');for(d=0;d<c.count();d++){var e=
c.index(d),f=W(a,e.g());if(f)this.va(f,c);else throw new K('full text source store "'+e.g()+'" does not exist for full text index "'+c.getName()+'"');}}}C($,Ed);n=$.prototype;n.ca=function(a,b){return new Z(this,this.b,a,b)};n.add=function(a,b,c){return this.c.add(a,b,c)};n.count=function(a,b,c,d){return this.c.count(a,b,c,d)};n.get=function(a,b){return this.c.get(a,b)};n.fa=function(a,b,c,d,e,f,g){return this.c.fa(a,b,c,d,e,f,g)};n.K=function(a,b,c,d,e,f){return this.c.K(a,b,c,d,e,f)};
n.load=function(a,b,c){return this.c.load(a,b,c)};n.put=function(a,b,c){return this.c.put(a,b,c)};n.clear=function(a,b,c){return this.c.clear(a,b,c)};n.ga=function(a,b,c){return this.c.ga(a,b,c)};var Gd,Hd,Id;Id=Hd=Gd=!1;var Jd=H;Jd&&(-1!=Jd.indexOf("Firefox")?Gd=!0:-1!=Jd.indexOf("Camino")||-1!=Jd.indexOf("iPhone")||-1!=Jd.indexOf("iPod")||-1!=Jd.indexOf("iPad")||(-1!=Jd.indexOf("Chrome")?Hd=!0:-1!=Jd.indexOf("Android")||-1!=Jd.indexOf("Safari")&&(Id=!0)));var Kd=Gd,Ld=Hd,Md=Id;function Nd(a,b){this.l=null;this.T=b||NaN}n=Nd.prototype;
n.ra=function(a,b){function c(a,c){for(var d=0;d<b.a.length;d++)Od(a,c,b.a[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)Pc(b,e[d])||a.deleteObjectStore(e[d])}function d(a,b){f.c||(r(b)?(e.l=null,f.i(b)):(e.l=a,e.l.onabort=function(){},e.l.onerror=function(){},e.l.onversionchange=function(a){if(e.l&&(e.l.onabort=null,e.l.onblocked=null,e.l.onerror=null,e.l.onversionchange=null,!a.defaultPrevented)){e.l.close();e.l=null;var b=Error();b.name=a.type;e.na(b)}},f.callback(parseFloat(g))))}var e=
this,f=new I,g=void 0,h=b.version,k;k=r(h)?Nb.open(a,h):Nb.open(a);k.onsuccess=function(f){var h=f.target.result;r(g)||(g=h.version);if(b.$)e.D(function(e){if(b instanceof Sc)for(var f=0;f<e.a.length;f++)Pc(b,e.a[f].getName())||Tc(b,e.a[f].clone());if(0<Qc(b,e,!1,!0).length)if(e=z(h.version)?h.version+1:1,"IDBOpenDBRequest"in q){h.close();var g=Nb.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};g.onerror=function(){d(null)}}else{var k=
h.setVersion(e+"");k.a=function(a){d(null,a)};k.onsuccess=function(){k.transaction.oncomplete=l;c(h,k.transaction)};var l=function(){var b=Nb.open(a);b.onsuccess=function(a){d(a.target.result)};b.onerror=function(){d(null)}};null!=k.transaction&&(k.transaction.oncomplete=l)}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){d(null,a)};k.onsuccess=function(){c(h,k.transaction)}}else e.D(function(a){a=Qc(b,a,!1,!0);0<a.length?d(null,new Vc("different schema: "+
a)):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;c(a,k.transaction)};k.onerror=function(a){d(null,a)};k.onblocked=function(a){d(null,a)};z(this.T)&&!isNaN(this.T)&&setTimeout(function(){"done"!=k.readyState&&d(null,new fd("connection timeout after "+e.T))},this.T);return f};n.T=18E4;n.na=function(){};n.Ea=function(){};n.Ha=function(){};n.Pa=function(){return"indexeddb"};n.Oa=function(){return this.l||null};n.sa=function(){return!!this.l};n.logger=null;n.l=null;
n.Qa=function(){return this.l?parseFloat(this.l.version):void 0};
n.D=function(a,b,c){c=c||this.l;if(r(b)){if(null===b){if(0==c.objectStoreNames.length){a(new Nc(c.version));return}throw new Uc;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new Nc(c.version));return}b=c.transaction(b,M)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],l=0,m=h.indexNames.length;l<m;l++){var p=h.index(h.indexNames[l]);k[l]=new kc(p.keyPath,void 0,p.unique,p.multiEntry,p.name)}f[d]=
new rc(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new Nc(c.version,f);a(b)};
function Od(a,b,c){function d(){var b={autoIncrement:!!c.b};null!=c.keyPath&&(b.keyPath=c.keyPath);return a.createObjectStore(c.getName(),b)}if(a.objectStoreNames.contains(c.getName())){b=b.objectStore(c.getName());pc(c.keyPath||"",b.keyPath||"")?(a.deleteObjectStore(c.getName()),b=d()):ba(b.autoIncrement)&&ba(c.b)&&b.autoIncrement!=c.b&&(a.deleteObjectStore(c.getName()),b=d());for(var e=b.indexNames,f=0;f<c.a.length;f++){var g=c.index(f);!e.contains(g.getName())&&g.e&&b.clear()}for(var h=0,k=0,l=
0,f=0;f<c.a.length;f++){var g=c.index(f),m=!1;if(e.contains(g.getName())){var p=b.index(g.getName()),t=null!=p.unique&&null!=g.unique&&p.unique!=g.unique,u=null!=p.multiEntry&&null!=g.multiEntry&&p.multiEntry!=g.multiEntry,p=null!=p.keyPath&&null!=g.keyPath&&!!pc(p.keyPath,g.keyPath);if(t||u||p)b.deleteIndex(g.getName()),m=!0,h--,l++}else"BLOB"!=g.type&&(m=!0);m&&(g.unique||g.multiEntry?(m={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,m)):b.createIndex(g.getName(),
g.keyPath),h++)}for(f=0;f<e.length;f++)yc(c,e[f])||(b.deleteIndex(e[f]),k++)}else for(b=d(),f=0;f<c.a.length;f++)g=c.index(f),"BLOB"!=g.type&&(g.unique||g.multiEntry?(m={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,m)):b.createIndex(g.getName(),g.keyPath))}
n.ka=function(a,b,c,d){var e=this.l;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d("complete",a)},b.onabort=function(a){d("abort",a)},a(b),a=null)};n.close=function(){this.l.close()};Vb.push(function(a,b){if(!Nb||b&&"indexeddb"!=b)return null;var c=Nb.deleteDatabase(a),d=new P("vc");c.onblocked=function(a){zb(d,a)};c.onerror=function(a){d.i(a)};c.onsuccess=function(a){d.callback(a)};return d});function Pd(a,b){this.a=r(a)?a:4194304;this.b=b||"websql"}n=Pd.prototype;
n.ra=function(a,b){function c(a,b){var c=a.version?parseInt(a.version,10):0,f=!1,g=0;a.changeVersion(a.version,(b.$?isNaN(c)?1:c+1:b.version)+"",function(c){e.D(function(a){f=!0;for(var d=0;d<b.count();d++){var e=W(a,b.O(d).getName()),e=e?zc(e,b.O(d)):null;Qd(c,b.O(d),function(a){a&&g++},e)}for(d=0;d<a.count();d++)e=a.O(d),Pc(b,e.getName())||(b instanceof Sc?Tc(b,e):(e="DROP TABLE "+T(e),c.executeSql(e,[],function(){},function(a,b){throw b;})))},c,a)},function(a){throw a;},function(){f&&d(a)})}function d(a,
b){r(b)?(e.o=null,g.i(b)):(e.o=a,g.callback(parseFloat(f)))}var e=this,f=NaN,g=new I,h=null;try{"sqlite"==this.b?q.sqlitePlugin?(h=q.sqlitePlugin.openDatabase(a,"",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(h=null,this.aa=Error("sqlitePlugin not found.")):h=q.openDatabase(a,"",a,this.a)}catch(k){if("SECURITY_ERR"==k.name)h=null,this.aa=new ed(k);else throw k;}h?(f=h.version||"",null!=b.version&&b.version==h.version?d(h):
this.D(function(a){Qc(b,a,!0,!1)?c(h,b):d(h)},null,h)):d(null,this.aa);return g};n.Pa=function(){return this.b};n.aa=null;n.o=null;n.Oa=function(){return this.o||null};n.logger=null;n.na=function(){};n.Ea=function(){};
function Rd(a){var b=a.p,c="CREATE TABLE IF NOT EXISTS "+T(a)+" (",d=a.c,c=c+(d+" "+b+" PRIMARY KEY ");a.b&&(c+=" AUTOINCREMENT ");if(!a.L||!a.keyPath&&0==a.a.length)c+=" ,_default_ BLOB";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),l="";if(k.multiEntry)l=k.unique?" UNIQUE ":"",k="CREATE TABLE IF NOT EXISTS "+G("ydn.db.me:"+a.getName()+":"+k.getName())+" ("+d+" "+b+", "+k.c+" "+k.h+l+")",e.push(k);else{k.unique&&(l=" UNIQUE ");var m=k.keyPath;"BLOB"!=k.type&&y(m)&&(m="CREATE "+l+
" INDEX IF NOT EXISTS "+G(a.getName()+"-"+k.getName())+" ON "+T(a)+" ("+k.c+")",e.push(m));m=k.c;-1==f.indexOf(m)&&(c+=", "+m+" "+k.h+l,f.push(m))}}e.unshift(c+")");return e}n.Qa=function(){return this.o?parseFloat(this.o.version):void 0};
n.D=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){var f="sql"in e?e.sql:void 0,u=f.substr(f.indexOf("("),f.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),x=void 0,v,f=[],D=!1,F=!1,N=0;for(;N<u.length;N++){var ha=u[N].match(/\w+|"[^"]+"/g),da=ra(ha,function(a){return a.toUpperCase()}),fa=ma(ha[0]),ha=lc(da[1]);if(-1!=da.indexOf("PRIMARY")&&
-1!=da.indexOf("KEY")){v=ha;if(y(fa)&&!/^[\s\xa0]*$/.test(fa)&&"_ROWID_"!=fa){var Ua=fa.split(","),x=fa;1<Ua.length&&(x=Ua,v=void 0)}-1!=da.indexOf("AUTOINCREMENT")&&(D=!0)}else if("_ROWID_"!=fa)if("_default_"==fa)F=!0;else{var Va="UNIQUE"==da[2];0==fa.lastIndexOf(e.tbl_name+"-",0)&&(fa=fa.substr(e.tbl_name.length+1));da=new kc(fa,ha,Va);f.push(da)}}if(0==e.name.lastIndexOf("ydn.db.me:",0)){var Wa=e.name.split(":");if(3<=Wa.length){var Xa=Wa[1],x=new kc(Wa[2],ha,Va,!0),u=va(f,function(a){return a.getName()==
Wa[2]});0<=u?f[u]=x:f.push(x);u=va(h,function(a){return a.getName()===Xa});0<=u?(x=h[u],h[u]=new rc(x.getName(),x.keyPath,D,v,f,void 0,!F)):h.push(new rc(Xa,void 0,!1,void 0,[x]))}}else N=va(h,function(a){return a.getName()===e.name}),0<=N?(u=h[N].index(0),f.push(u),h[N]=new rc(e.name,x,D,v,f,void 0,!F)):(f=new rc(e.name,x,D,v,f,void 0,!F),h.push(f))}}d=new Nc(g,h);a(d)}}var f=this,g=(c=c||this.o)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql("SELECT * FROM sqlite_master",
[],e,d):c.readTransaction(function(b){f.D(a,b,c)},function(a){throw a;},e)};function Qd(a,b,c,d){function e(b){a.executeSql(b,[],function(){f++;f==g.length&&(c(!0),c=null)},function(a,b){f++;f==g.length&&(c(!1),c=null);throw new dd(b,'"');})}var f=0,g=Rd(b);if(d){if(0==Ec(b,d).length){c(!0);c=null;return}g.unshift("DROP TABLE IF EXISTS "+G(b.getName()))}for(b=0;b<g.length;b++)e(g[b])}n.sa=function(){return!!this.o};n.close=function(){this.o=null};
n.ka=function(a,b,c,d){function e(a){d("abort",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}null===this.o&&(a(null),d("abort",this.aa));c==M?this.o.readTransaction(g,e,f):c==Mb?this.o.changeVersion(this.o.version,this.o.version+1+"",g,e,f):this.o.transaction(g,e,f)};
Vb.push(function(a,b){if(A(q.openDatabase)&&(!b||"websql"==b)){var c=new Pd,d=new Sc,d=c.ra(a,d),e=function(){};d.A(function(){c.ka(function(a){a.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(b,c){if(c&&c.rows)for(var d=c.rows.length,e=0,m=0;m<d;m++){var p=c.rows.item(m);"__WebKitDatabaseInfoTable__"!=p.name&&"sqlite_sequence"!=p.name&&(e++,a.executeSql("DROP TABLE "+p.name))}},function(a,b){throw b;})},[],O,e)});d.ua(function(){})}});Pd.prototype.Ha=function(){};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
Ed.prototype.ja=function(a){return"indexeddb"==a&&(!Nb||Md?0:Nb)?new Nd(0,this.s):"sqlite"==a&&q.sqlitePlugin?new Pd(this.n,"sqlite"):"websql"==a&&A(q.openDatabase)?new Pd(this.n):null};function rd(a,b){this.a=b}C(rd,gd);n=rd.prototype;n.logger=null;n.ia=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?Q(a,d):c(e)};f.onerror=function(b){b.preventDefault();Q(a,f.error,!0)}}var d=[];0==b.length?Q(a,[]):c(0)};
n.B=function(a,b,c,d,e,f){function g(d){if(null==e[d])if(k++,k==e.length)Q(a,h,l);else{var t=d+10;t<e.length&&g(t)}var u,t=e[d];u=f&&null!=f[d]?b?m.put(t,f[d]):m.add(t,f[d]):b?m.put(t):m.add(t);u.onsuccess=function(b){k++;h[d]=b.target.result;k==e.length?Q(a,c?h[0]:h,l):(b=d+10,b<e.length&&g(b))};u.onerror=function(b){k++;var f=u.error;Ic(e[d]);h[d]=f;l=!0;b.preventDefault();k==e.length?Q(a,c?h[0]:h,l):(b=d+10,b<e.length&&g(b))}}var h=[],k=0,l=!1,m=a.a.objectStore(d);if(0<e.length)for(d=0;10>d&&d<
e.length;d++)g(d);else Q(a,[])};n.oa=function(a,b,c){function d(h){var l=c[h],m=a.a.objectStore(l.g()),p;p=null===m.keyPath?m.put(b[h],l.a):m.put(b[h]);p.onsuccess=function(c){f++;e[h]=c.target.result;f==b.length?Q(a,e,g):(c=h+10,c<b.length&&d(c))};p.onerror=function(c){f++;e[h]=p.error;g=!0;c.preventDefault();f==b.length?Q(a,e,g):(c=h+10,c<b.length&&d(c))}}var e=[],f=0,g=!1;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)d(h);else Q(a,e,g)};
n.Ja=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf("\n",l),d=!1,v;-1==b?(d=!0,v=e.substring(l)):(v=e.substring(l,b),l=b+1);b=v.split(f);for(v=0;v<m.length;v++){var D=b[v];p[v]&&(p[v]==mc?D=ma(D):"INTEGER"==p[v]?D=parseInt(D,10):"NUMERIC"==p[v]&&(D=parseFloat(D)));a[m[v]]=D}var F=h.put(a);F.onsuccess=function(a){k.push(a.target.result);d?c(k):g()};F.onerror=function(a){a.preventDefault();c(F.error,!0)}}b=W(this.a,d);var h=a.objectStore(d),k=[],l=e.indexOf("\n"),m=e.substr(0,l).split(f),p=
[];for(a=0;a<m.length;a++)(d=vc(b,m[a]))?p[a]=d.type:m[a]==b.keyPath&&(p[a]=b.type);l++;g()};n.pa=function(a,b,c){var d=a.a.objectStore(b).openCursor(hc.only(c));d.onsuccess=function(b){if(b=b.target.result){var c=b["delete"]();c.onsuccess=function(){Q(a,1)};c.onerror=function(){Q(a,c.error,!0)}}else Q(a,0)};d.onerror=function(b){b.preventDefault();Q(a,d.error,!0)}};
n.Na=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?Q(a,g,!0):Q(a,d);else{b[h].g()!=e&&(e=b[h].g(),f=a.a.objectStore(e));var k=f["delete"](b[h].a);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f,g=[];c(-1)};
n.qa=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);e.onsuccess=function(b){var e=b.target.result,h=d["delete"](c);h.onsuccess=function(){Q(a,e)};h.onerror=function(){Q(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();Q(a,e.error,!0)}};n.ya=function(a,b,c){var d=a.a.objectStore(b)["delete"](c);d.onsuccess=function(){Q(a,void 0)};d.onerror=function(b){b.preventDefault();Q(a,d.error,!0)}};
n.Ma=function(a,b,c,d){var e=[],f=a.a.objectStore(b).index(c).openCursor(d),g=0;f.onsuccess=function(b){var c=b.target.result;if(c){var d=c["delete"]();d.onsuccess=function(){g++;c["continue"]()};d.onerror=function(a){e.push(d.error);a.preventDefault();c["continue"]()}}else 0<e.length?Q(a,e,!0):Q(a,g)};f.onerror=function(b){b.preventDefault();Q(a,f.error,!0)}};
n.ha=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&Q(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&Q(a,f.error,!0)}}};
n.ma=function(a,b,c){var d=a.a.objectStore(b),e=d.get(c);e.onsuccess=function(b){var c=b.target.result;if(!d.keyPath&&0==d.indexNames.length&&xb&&y(c)&&0<=c.indexOf(";base64,")){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));c=c.split(";base64,");b=c[0].split(":")[1];for(var c=window.atob(c[1]),e=c.length,k=new Uint8Array(e),l=0;l<e;++l)k[l]=c.charCodeAt(l);Q(a,new Blob([k.buffer],{type:b}))}else Q(a,b.target.result)};e.onerror=function(b){b.preventDefault();Q(a,e.error,!0)}};
n.Ba=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)Q(a,e);else{var l=b+10;l<h&&d(l)}var m;m=g.get(c[b]);m.onsuccess=function(c){f++;e[b]=c.target.result;f==h?Q(a,e):(c=b+10,c<h&&d(c))};m.onerror=function(b){f++;b.preventDefault();Q(a,m.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else Q(a,[])};
n.Ca=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.g()).get(h.a);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?Q(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();Q(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else Q(a,[])};
n.za=function(a,b,c,d){b=a.a.objectStore(b);c&&U(c);var e;null!=d?(d=b.index(d),e=null!=c?d.count(c):d.count()):e=null!=c?b.count(c):b.count();e.onsuccess=function(b){Q(a,b.target.result)};e.onerror=function(b){b.preventDefault();Q(a,e.error,!0)}};
n.Q=function(a,b,c,d,e,f,g,h,k,l){var m=[],p=a.a.objectStore(c),t=h?k?"prevunique":"prev":k?"nextunique":"next";c=Sb(a)+" "+b+" "+c+(d?":"+d:"")+(e?U(e):"");h&&(c+=" reverse");k&&(c+=" unique");if(l&&r(l[0])){k=d?!r(l[1]):!0;var u=l[0],x=e?e.lower:void 0,v=e?e.upper:void 0,D=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=ec(h?new S(x,u,D,k):new S(u,v,k,e));c+=" starting from "+U(l[0]);r(l[1])&&(c+=", "+U(l[1]))}var F;F=1==b||2==b||3==b?d?p.index(d).openKeyCursor(e,t):p.openCursor(e,t):d?p.index(d).openCursor(e,
t):p.openCursor(e,t);var N=!1;F.onsuccess=function(c){if(c=c.target.result){if(!N){if(0<g){N=!0;c.advance(g);return}if(l&&d&&r(l[0]))if(r(l[1])){var e=Nb.cmp(c.key,l[0]),k=h?-1:1;if(0==e){e=Nb.cmp(c.primaryKey,l[1]);if(0==e){N=!0;c["continue"]();return}if(e==k)N=!0;else{c["continue"]();return}}else N=!0}else N=!0;else N=!0}1==b?m.push(c.key):2==b?m.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),p.keyPath?k[p.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,m.push(k)):4==b?m.push(c.value):m.push([c.key,
c.primaryKey,c.value]);if(m.length<f)c["continue"]();else l&&(l[0]=dc(c.key),l[1]=dc(c.primaryKey)),Q(a,m)}else l&&(l[0]=void 0,l[1]=void 0),Q(a,m)};F.onerror=function(b){b.preventDefault();Q(a,F.error,!0)}};function sd(a,b){this.a=b}C(sd,gd);n=sd.prototype;n.logger=null;
function Sd(a,b){if(b.L&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(";base64,"))return Hc(c);'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(";base64,"),c=d[0].split(":")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?Hc(a._default_):{};null!=b.keyPath&&(d=nc(a[b.keyPath],b.type),null!=d&&Cc(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),
f=e.d,"_default_"!=f&&!e.f&&!e.multiEntry&&("DATE"==e.type||b.L)&&(g=nc(a[f],e.type),r(g)))for(var f=c,h=0;h<e.b.length;h++)h==e.b.length-1?f[e.b[h]]=g:B(f[e.b[h]])||(f[e.b[h]]={});return c}n.Ja=function(){throw new rb("putData");};
n.B=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(m++,m==e.length)Q(a,l,p);else{var x=b+2;x<e.length&&g(x,d)}var v;v=r(f)?Dc(h,e[b],f[b]):Dc(h,e[b]);x=k+T(h)+" ("+v.Va.join(", ")+") VALUES ("+v.bb.join(", ")+");";d.executeSql(x,v.K,function(f,x){function N(a,b){var c=k+G("ydn.db.me:"+h.getName()+":"+a.getName())+" ("+h.c+", "+a.c+") VALUES (?, ?)",e=[jc(ha,h.type),jc(b,a.type)];d.executeSql(c,e,function(){},function(){return!1})}m++;var ha=r(v.key)?v.key:x.insertId;1>x.rowsAffected&&(p=!0,
ha=new bd(ha+" no-op"));for(var da=0,fa=h.a.length;da<fa;da++){var Ua=h.index(da);if(Ua.multiEntry)for(var Va=Ab(e[b],Ua.keyPath),Wa=(Va?Va.length:0)||0,Xa=0;Xa<Wa;Xa++)N(Ua,Va[Xa])}c?Q(a,ha):(l[b]=ha,m==e.length?Q(a,l,p):(da=b+2,da<e.length&&g(da,f)))},function(d,f){m++;p=!0;6==f.code&&(f.name="ConstraintError");if(c)Q(a,f,!0);else if(l[b]=f,m==e.length)Q(a,l,p);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=W(this.a,d),k=b?"INSERT INTO ":"INSERT OR REPLACE INTO ";d=a.a;var l=[],m=0,p=!1;
if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else Q(a,[])};
n.oa=function(a,b,c){if(0==c.length)Q(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){for(var l=[],m=Ac(W(g.a,h)),p=m?void 0:[],t=0;t<k.length;t++)l.push(b[k[t]]),m||p.push(c[k[t]].a);m=Pb(a);J(m,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&Q(a,d)},function(){e++;e==f&&Q(a,d,!0)});g.B(m,!1,!1,h,l,p)},k="",l=[],m=[],p=0;p<c.length;p++){var t=c[p].g(),u=c[p].a;t!=k?(f++,0<l.length&&h(k,l),l=[p],m=[u],k=t):(l.push(p),m.push(u))}0<l.length&&h(k,l)}};
n.ma=function(a,b,c){var d=a.a,e=W(this.a,b);b=e.c;c=[jc(c,e.type)];b="SELECT * FROM "+T(e)+" WHERE "+b+" = ?";d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=Sd(d,e),Q(a,d)):Q(a,void 0)}else Q(a,void 0)},function(b,c){Q(a,c,!0);return!1})};
n.Ba=function(a,b,c){function d(b,e){var m=h.c,p=[jc(c[b],h.type)],m="SELECT * FROM "+T(h)+" WHERE "+m+" = ?";e.executeSql(m,p,function(e,l){g++;if(0<l.rows.length){var m=l.rows.item(0);null!=m&&(f[b]=Sd(m,h))}else f[b]=void 0;g==c.length?Q(a,f):(m=b+10,m<c.length&&d(m,e))},function(e){g++;if(g==c.length)Q(a,f);else{var h=b+10;h<c.length&&d(h,e)}return!1})}var e=a.a,f=[],g=0,h=W(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,e);else Q(a,[])};
n.Ca=function(a,b){function c(d,h){var m=b[d],p=W(e.a,m.g()),t=bc(m),m=p.c,t=[jc(t,p.type)],m="SELECT * FROM "+T(p)+" WHERE "+m+" = ?";h.executeSql(m,t,function(e,h){g++;if(0<h.rows.length){var l=h.rows.item(0);null!=l&&(f[d]=Sd(l,p))}else f[d]=void 0;g==b.length?Q(a,f):(l=d+10,l<b.length&&c(l,e))},function(b,c){Q(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else Q(a,[])};
n.ha=function(a,b){function c(d,g){function h(a){a="DELETE FROM  "+G("ydn.db.me:"+k.getName()+":"+a.getName());g.executeSql(a,[])}var k=W(e.a,b[d]),l="DELETE FROM  "+T(k);g.executeSql(l,[],function(e){d==b.length-1?Q(a,b.length):c(d+1,e)},function(b,c){Q(a,c,!0);return!1});for(var l=0,m=k.a.length;l<m;l++){var p=k.index(l);p.multiEntry&&h(p)}}var d=a.a,e=this;0<b.length?c(0,d):Q(a,0)};
n.Na=function(a,b){function c(h){if(h>=b.length)Q(a,f,g);else{var k=W(e.a,b[h].g()),l=jc(b[h].a,k.type),m=" WHERE "+k.c+" = ?",p="DELETE FROM "+T(k)+m;d.executeSql(p,[l],function(){f++;c(h)},function(){g=!0;c(h);return!1});h++;for(var p=function(a){a="DELETE FROM  "+G("ydn.db.me:"+k.getName()+":"+a.getName())+m;d.executeSql(a,[l])},t=0,u=k.a.length;t<u;t++){var x=k.index(t);x.multiEntry&&p(x)}}}var d=a.a,e=this,f=0,g=!1;c(0)};
n.pa=function(a,b,c){function d(a){a="DELETE FROM  "+G("ydn.db.me:"+f.getName()+":"+a.getName())+h;e.executeSql(a,[g])}var e=a.a,f=W(this.a,b),g=jc(c,f.type),h=" WHERE "+f.c+" = ?";b="DELETE FROM "+T(f)+h;e.executeSql(b,[g],function(b,c){Q(a,c.rowsAffected)},function(b,c){Q(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var k=f.index(b);k.multiEntry&&d(k)}};n.ya=function(a,b,c){Td(this,a,b,void 0,c)};n.qa=function(a,b,c){Td(this,a,b,void 0,c)};n.Ma=function(a,b,c,d){Td(this,a,b,c,d)};
function Td(a,b,c,d,e){function f(a){a="DELETE FROM  "+G("ydn.db.me:"+h.getName()+":"+a.getName())+l;g.executeSql(a,k)}var g=b.a,h=W(a.a,c);a="DELETE FROM "+T(h);c=[];var k=[],l="";null!=e&&(r(d)?(d=vc(h,d),ic(d.c,d.type,e,k,c)):ic(h.c,h.type,e,k,c),l=" WHERE "+k.join(" AND "));g.executeSql(a+l,c,function(a,c){Q(b,c.rowsAffected)},function(a,c){Q(b,c,!0);return!1});e=0;for(d=h.a.length;e<d;e++)a=h.index(e),a.multiEntry&&f(a)}
n.ia=function(a,b){function c(f){var g="SELECT COUNT(*) FROM "+G(b[f]);d.executeSql(g,[],function(d,g){var l=g.rows.item(0);e[f]=parseInt(l["COUNT(*)"],10);f++;f==b.length?Q(a,e):c(f)},function(b,c){Q(a,c,!0);return!1})}var d=a.a,e=[];0==b.length?Q(a,0):c(0)};n.za=function(a,b,c,d,e){var f=[];b=tc(W(this.a,b),f,6,d,c,!1,e);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}Q(a,d)},function(b,c){Q(a,c,!0);return!1})};
n.Q=function(a,b,c,d,e,f,g,h,k,l){var m=[],p=W(this.a,c),t=p.f,u=p.type,x=u,v=null!=d&&d!==t?vc(p,d):null,D=d||t;v&&(x=v.type);c=[];if(l&&r(l[0])){var F=l[0];d=v&&r(l[1])?xc(p,b,c,v.getName(),e,F,l[1],h,k):wc(p,b,c,d,e,h,k,F)}else d=tc(p,c,b,D,e,h,k);z(f)&&(d+=" LIMIT "+f);z(g)&&(d+=" OFFSET "+g);U(c);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?m[g]=nc(f[t],u):1==b?m[g]=nc(f[D],x):3==b?m[g]=[nc(f[D],x),nc(f[t],u)]:null!=f&&(m[g]=Sd(f,p));l&&f&&(l[0]=
nc(f[D],x),l[1]=nc(f[t],u));Q(a,m)},function(b,c){Q(a,c,!0);return!1})};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
Ed.prototype.branch=Ed.prototype.Ta;Ed.prototype.getTxNo=Ed.prototype.kb;qd.prototype.getTxNo=qd.prototype.f;Ed.prototype.run=Ed.prototype.Za;$.prototype.branch=$.prototype.Ta;$.prototype.add=$.prototype.add;$.prototype.get=$.prototype.get;$.prototype.keys=$.prototype.fa;$.prototype.values=$.prototype.K;$.prototype.put=$.prototype.put;$.prototype.clear=$.prototype.clear;$.prototype.remove=$.prototype.ga;$.prototype.count=$.prototype.count;Z.prototype.add=Z.prototype.add;Z.prototype.get=Z.prototype.get;Z.prototype.keys=Z.prototype.fa;Z.prototype.values=Z.prototype.K;Z.prototype.put=Z.prototype.put;Z.prototype.clear=Z.prototype.clear;
Z.prototype.remove=Z.prototype.ga;Z.prototype.count=Z.prototype.count;ja("ydn.db.Key",ac);ac.prototype.id=ac.prototype.gb;ac.prototype.parent=ac.prototype.hb;ac.prototype.storeName=ac.prototype.g;ja("ydn.db.KeyRange",S);S.upperBound=S.upperBound;S.lowerBound=S.lowerBound;S.bound=S.bound;S.only=S.only;S.starts=gc;Xb.prototype.store_name=Xb.prototype.a;Xb.prototype.getStoreName=Xb.prototype.g;function Ud(a,b,c){$.call(this,a,b,c)}C(Ud,$);ja("ydn.db.Storage",Ud);function Vd(a){this.b=a||[]}Vd.prototype.a=function(a){return-1==this.b.indexOf(a)?a:null};function Wd(){}
Wd.prototype.a=function(a){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};a=a.toLowerCase();var d,e,f=a;if(3>a.length)return a;var g,h;a=a.substr(0,1);"y"==a&&(f=a.toUpperCase()+f.substr(1));g=/^(.+?)(ss|i)es$/;e=/^(.+?)([^s])s$/;
g.test(f)?f=f.replace(g,"$1$2"):e.test(f)&&(f=f.replace(e,"$1$2"));g=/^(.+?)eed$/;e=/^(.+?)(ed|ing)$/;g.test(f)?(e=g.exec(f),g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(e[1])&&(g=/.$/,f=f.replace(g,""))):e.test(f)&&(e=e.exec(f),d=e[1],e=/^([^aeiou][^aeiouy]*)?[aeiouy]/,e.test(d)&&(f=d,e=/(at|bl|iz)$/,h=/([^aeiouylsz])\1$/,d=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,e.test(f)?f+="e":h.test(f)?(g=/.$/,f=f.replace(g,"")):d.test(f)&&(f+="e")));g=/^(.+?)y$/;g.test(f)&&(e=g.exec(f),
d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g.test(d)&&(f=d+"i"));g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+b[e]));g=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+c[e]));g=
/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;e=/^(.+?)(s|t)(ion)$/;g.test(f)?(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d)):e.test(f)&&(e=e.exec(f),d=e[1]+e[2],e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e.test(d)&&(f=d));g=/^(.+?)e$/;g.test(f)&&(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,h=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,g.test(d)||e.test(d)&&!h.test(d))&&(f=d);g=/ll$/;e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;g.test(f)&&e.test(f)&&(g=/.$/,f=f.replace(g,""));"y"==a&&(f=a.toLowerCase()+f.substr(1));return f};function Xd(a){this.b=a}
Xd.prototype.a=function(a){a=a.toLowerCase();a=a.replace(/([^c])\1/g,"$1");a=function(a){return a.match(/^(kn|gn|pn|ae|wr)/)?a.substr(1,a.length-1):a}(a);a=a.replace(/mb$/,"m");a=a.replace(/ck/g,"k");a=function(a){a=a.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim();a=a.replace(/cia/g,"xia");a=a.replace(/c(i|e|y)/g,"s$1");return a=a.replace(/c/g,"k")}(a);a=function(a){a=a.replace(/d(ge|gy|gi)/g,"j$1");return a=a.replace(/d/g,"t")}(a);a=function(a){a=a.replace(/gh(^$|[^aeiou])/g,"h$1");return a=a.replace(/g(n|ned)$/g,
"$1")}(a);a=function(a){a=a.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3");a=a.replace(/gg/g,"g");return a=a.replace(/g/g,"k")}(a);a=a.replace(/([aeiou])h([^aeiou])/g,"$1$2");a=a.replace(/ph/g,"f");a=a.replace(/q/g,"k");a=a.replace(/s(h|io|ia)/g,"x$1");a=function(a){a=a.replace(/^x/,"s");return a=a.replace(/x/g,"ks")}(a);a=function(a){a=a.replace(/t(ia|io)/g,"x$1");return a=a.replace(/th/,"0")}(a);a=a.replace(/tch/g,"ch");a=a.replace(/v/g,"f");a=a.replace(/^wh/,"w");a=a.replace(/w([^aeiou]|$)/g,"$1");a=a.replace(/y([^aeiou]|$)/g,
"$1");a=a.replace(/z/,"s");a=a.charAt(0)+a.substr(1,a.length).replace(/[aeiou]/g,"");a.length>=this.b&&(a=a.substring(0,this.b));return a=a.toUpperCase()};var Yd=new Xd(32),Zd=new Wd,$d=new Vd("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));function ae(a){this.data=a;this.a=0}ae.prototype.next=function(a){for(var b=this.a,c=this.data[b],c=1,d=0;0<=b&&b<this.data.length;){c=this.data[b];if(c instanceof Array)if(a<c[0])c=-1;else if(a>c[1])c=1;else return this.a=b,!0;else{if(c==a)return this.a=b,!0;c=a<c?-1:1}if(0==d)d=c;else if(d!=c)break;b+=c;if(b>this.data.length||0>b)break}return!1};
function be(a,b){for(var c=0,d=0,e=a.length,f=0;f<e;++f){a:{var d=a.charCodeAt(f),g=new ae(categ_letters_numbers_data);if(z(d))d=g.next(d);else{for(var h=0,k=d.length;h<k;++h)if(!1===g.next(d[h])){d=!1;break a}d=!0}}d||((d=f-c)&&b(c,d),c=f+1)}(d=e-c)&&b(c,d)};function ce(a,b){this.d=b;this.value=a}ce.prototype.b=function(){return 1};var de=Ld||Kd;ce.prototype.h=function(){return this.value};function ee(a,b,c,d,e,f){ce.call(this,d,e);this.e=a;this.c=b;this.u=c;this.ba=f||[]}C(ee,ce);ee.prototype.U=function(){return{k:this.d,v:this.value.toLowerCase(),id:this.h(),loc:this.ba}};ee.prototype.h=function(){var a=[this.e,this.u,this.c,this.value];return de?a:Cb(a)};ee.prototype.g=function(){return this.e};function fe(a,b,c,d,e){ce.call(this,b,c);this.f=d;this.a=e;this.type=a;this.wa=1}C(fe,ce);fe.prototype.b=function(){return this.a*this.type*this.wa};fe.prototype.h=function(){return this.value+"|"+this.f};function ge(a,b){ee.call(this,b.g(),b.c,b.u,b.value,b.d,[]);this.j=a;this.a=[b]}C(ge,ee);ge.prototype.count=function(){return this.a.length};function he(a,b){for(var c=b.a[0],d=0;d<a.a.length;d++)if(a.a[d].c==c.c&&a.a[d].value==c.value)return;a.a.push(c)}ge.prototype.b=function(){for(var a=0,b=0;b<this.a.length;b++)var c=this.a[b],d=Lc(this.j,c.g(),c.c),c=c.b(),a=a+c*d.c;return a};function Da(a,b){var c=a.b(),d=b.b();return c<=d?1:-1}
ge.prototype.U=function(){for(var a={value:this.value,primaryKey:this.u,storeName:this.e,score:this.b(),tokens:[]},b=0;b<this.a.length;b++)a.tokens[b]=this.a[b].U();return a};function ie(a){var b=[],c;a=a.split(/\s+/);for(var d=0;d<a.length;d++){c=a[d];for(var e=c.length-1,f=Array(e),g=0;g<e;g++)f[g]=c.substring(g,g+2);c=f;b.push.apply(b,c)}return b};function xd(a,b,c,d,e,f,g){ee.call(this,b,c,d,e,f,g);this.a=a}C(xd,ee);xd.prototype.b=function(){var a,b=this.value;a=ie(this.a.value.toLowerCase().replace(/^\s+|\s+$/g,""));var b=ie(b.toLowerCase().replace(/^\s+|\s+$/g,"")),c=0,d=a.length+b.length,e,f,g,h;for(e=0;e<a.length;e++)for(g=a[e],f=0;f<b.length;f++)if(h=b[f],g==h){c++;delete b[f];break}a=2*c/d;b=Math.log(this.ba.length+1);c=this.a.b();return b*a*c};xd.prototype.U=function(){return{keyPath:this.c,value:this.value,loc:this.ba.slice()}};function je(a,b){this.a=a;this.b=b;this.d=[];this.c=0}function wd(a,b){for(var c,d,e=a.a.getName(),f=0;f<a.b.length;f++){var g=a.b[f],h=g.type;.4==h||.6==h?(d="v",c=g.value.toLowerCase(),c=gc(c)):(d="v",c=g.value.toLowerCase(),c=S.only(c));b(e,d,c,g);a.c++;.6==h&&(d="k",c=g.d,c=S.only(c),b(e,d,c,g),a.c++)}}function vd(a){for(var b=[a.a.getName()],c=0;c<a.a.count();c++){var d=a.a.index(c).g();-1==b.indexOf(d)&&b.push(d)}return b}
je.prototype.e=function(){for(var a=[],b=[],c=0;c<this.d.length;c++){var d=this.d[c];if(0==d.a.type)-1==va(b,function(a){return a.u==d.u&&a.g()==d.g()})&&b.push(d);else{var e=new ge(this.a,d),f=va(a,function(a){return a.u==e.u&&a.g()==e.g()});if(0<=f){var g=a[f];pa.splice.call(a,f,1);he(g,e);e=g}Ca(a,e)}}for(f=0;f<b.length;f++)for(g=b[f],c=a.length-1;0<=c;--c){var h=a[c];if(g.u==h.u&&g.g()==h.g()){a.splice(f,1);break}}return a.map(function(a){return a.U()})};function ke(a){this.a=a;if("en"==a.c){a=a.d||["stop","stemmer","metaphone"];for(var b=[],c=0;c<a.length;c++)"metaphone"==a[c]?b.push(Yd):"stemmer"==a[c]?b.push(Zd):"stop"==a[c]&&b.push($d);a=b}else a=[];this.b=a}function le(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c].a(b);if(d)b=d;else return null}return b}
function me(a,b){var c=[],d=[];be(b,function(a,e){c.push(b.substr(a,e));d.push(a)});for(var e=[],f=0;f<c.length;f++)e[f]=le(a,c[f]);for(var g=[],h=0,f=0;f<c.length;f++){var k=c[f],l=e[f],m="*"==b.charAt(d[f]+k.length),p=m?d[f]+k.length+1:d[f]+k.length,p='"'==b.charAt(d[f]-1)&&'"'==b.charAt(p),t="-"==b.charAt(p?d[f]-2:d[f]-1),u=.8;m?u=.4:p?u=1:t?u=0:null!=l&&(u=.6);k=new fe(u,k,l,d[f],1/(f+2));g.push(k);h+=k.b()}for(f=0;f<g.length;++f)g[f].wa=1/h;return g}
function ne(a,b,c,d){var e=[],f=[];be(b,function(a,c){e.push(b.substr(a,c));f.push(a)});for(var g=[],h=0;h<e.length;h++)g[h]=le(a,e[h]);a=c.g();c=c.a;for(var k=[],h=0;h<e.length;h++){var l=e[h],m=g[h];if(null!=m){var p=ua(k,function(a){return a.value==l});p||(p=new ee(a,c,d,l,m),k.push(p));p.ba.push(f[h])}}return k}function oe(a,b,c,d){for(var e=[],f=0;f<a.a.count();f++){var g=a.a.index(f);if(g.g()==b){var h=Ab(d,g.a);y(h)&&(e=e.concat(ne(a,h,g,c)))}}return e};$.prototype.va=function(a,b){var c=this;b.a=new ke(b);Gc(a,function(d,e){function f(e){var f=a.getName();cc(e)&&Rb(d,function(a,g,h){if(g)h(a,g);else{zb(d,a);var k=ec(S.bound([f,e],[f,e,"\uffff"]));zd(c.c,b.getName(),k).M(function(){h(a,g)})}})}function g(b){var e=a.getName();Rb(d,function(a,f,g){f?g(a,f):(zb(d,a),b&&(b=ec(S.bound([e,b.lower],[e,b.upper,"\uffff"]))),zd(c.c,e,b).M(function(){g(a,f)}))})}function h(e,f){var g=a.getName();Rb(d,function(a,h,k){zb(d,a);if(h)k(a,h);else{var v=b.getName();
s(a)||(a=[a]);for(var D=0;D<a.length;D++){var F=a[D];if(cc(F)){if(f){var N=ec(S.bound([g,F],[g,F,"\uffff"]));zd(c.c,v,N)}F=oe(b.a,g,F,e[D]).map(function(a){return a.U()});F=yd(c.c,v,F);D==a.length-1&&F.M(function(){k(a,h)})}}}})}var k=d.p;"j"==k?h([e[1]],!0):"k"==k?h(e[1],!0):"a"==k?h([e[1]],!1):"b"==k?h(e[1],!1):"n"==k||"c"==k?g(e[1]):"m"==k&&f(e[1])})};
$.prototype.H=function(a,b){var c=Rc(this.b,a);if(!c)throw new K('full text index catalog "'+a+'" not found.');var c=c.a,d=me(c,b),c=0==d.length?null:new je(c.a,d);return c?ud(this.c,c):(this.logger.a('query "'+b+'" contains only noise and search is ignored'),Tb("qb",null))};$.prototype.search=$.prototype.H;je.prototype.collect=je.prototype.e; 
var categ_letters_numbers_data=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748
	,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369
	,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791
	,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220]
	,[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480]
	,2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600]
	,[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705]
	,[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856]
	,[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960]
	,[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088]
	,[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216]
	,[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386]
	,3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632]
	,[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749
	,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911]
	,[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238
	,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744]
	,[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954]
	,[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900]
	,[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6000],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169]
	,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618]
	,[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141]
	,[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965]
	,[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140]
	,[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455
	,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585]
	,[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517
	,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710]
	,[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348]
	,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730]
	,[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908
	,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783]
	,[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43000,43009],[43011,43013],[43015,43018],[43020,43042]
	,[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388]
	,[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695]
	,43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790]
	,[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291]
	,[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318
	,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140]
	,[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495]
	,[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786]
	,[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461]
	,[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640]
	,67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115]
	,[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479]
	,[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926]
	,[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850]
	,[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892]
	,[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003]
	,[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134
	,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628]
	,[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831]
	,[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530
	,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564
	,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627]
	,[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]];
;

//# sourceMappingURL=ydn.db-is-crud-text.js.map
return ydn;}, (this || {}));
            